<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>CSCI 121 Computer Science I</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="CSCI 121 Computer Science I Course Website">
<meta property="og:type" content="website">
<meta property="og:title" content="CSCI 121 Computer Science I">
<meta property="og:url" content="https://nchanath.github.io/121-S23/index.html">
<meta property="og:site_name" content="CSCI 121 Computer Science I">
<meta property="og:description" content="CSCI 121 Computer Science I Course Website">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Chanathip Namprempre">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@ajmeaw">
  
    <link rel="alternate" href="/121-S23/atom.xml" title="CSCI 121 Computer Science I" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/121-S23/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/121-S23/css/style.css">

  
    
<link rel="stylesheet" href="/121-S23/fancybox/jquery.fancybox.min.css">

  
  <script type="text/javascript" async
          src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <script>
    MathJax.Ajax.config.path["Contrib"] = "https://cdn.mathjax.org/mathjax/contrib";
    MathJax.Ajax.config.path["font"] = "https://cdn.mathjax.org/mathjax/font";
  </script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/121-S23/" id="logo">CSCI 121 Computer Science I</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/121-S23/tags/Announcements">Announcements</a>
        
          <a class="main-nav-link" href="/121-S23/syllabus">Syllabus</a>
        
          <a class="main-nav-link" href="/121-S23/lecturenotes">Lecture Notes</a>
        
          <a class="main-nav-link" href="/121-S23/tags/Handouts">Handouts</a>
        
          <a class="main-nav-link" href="/121-S23/tags/Homework">Homework</a>
        
          <a class="main-nav-link" href="/121-S23/resources">Resources</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/121-S23/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://nchanath.github.io/121-S23"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-prog-ex-lec01-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/14/prog-ex-lec01-1/" class="article-date">
  <time class="dt-published" datetime="2023-01-14T18:56:15.000Z" itemprop="datePublished">2023-01-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/14/prog-ex-lec01-1/">Programming exercise for Lec01-1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><p>Write a program that calculates and prints out the area of a rectangle given its length and width provided by the user. Assume that both inputs are integers.</p>
</li>
<li><p>Write a program that asks the user for a string then prints out that string three times each time separated by a space.</p>
</li>
<li><p>Write a program that takes in two numbers, divides the first number by the second number, and then prints the result using three different types of division: classic division, floor division, and modulus.</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/14/prog-ex-lec01-1/" data-id="clcwbl4oy0000z6t0fbiee58j" data-title="Programming exercise for Lec01-1" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Handouts/" rel="tag">Handouts</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-info" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/13/info/" class="article-date">
  <time class="dt-published" datetime="2023-01-14T00:50:33.000Z" itemprop="datePublished">2023-01-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/13/info/">Course information</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>The course information <a href="info.pdf">handout</a> is available. Please be sure to read it soon after the first class period.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/13/info/" data-id="clcw8gwjw0000jyt00y13442r" data-title="Course information" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Handouts/" rel="tag">Handouts</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-proj4" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/proj4/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T07:05:54.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/proj4/">Project 4 -- Adventure</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a href="pr4adventure.zip">starter code for the adventure option</a></p>
<p>In this project you will be making your own text-based adventure game.  In such a game, a player walks around in some sort of world, exploring or accomplishing a task. You can pick the game’s theme (what sort of world it is, etc.), what sort of activities are most important (fight monsters? trade resources?), and what the goal is.</p>
<p>We have provided the code with a very simple game to start with. It has a very small world and is a lackluster game, to say the least, but the code provides a framework from which to build your program. There are several Python files that make up the program, each defining classes that help make up the contents of the world. You should start by playing its game (you’ll want to run the script <code>main.py</code>) and then look through the code to see how the code works. (When playing, the command “help” will give you a list of other commands.)</p>
<p>Once you get comfortable with the code, you should begin changing and building on it to make your own game. We list a collection of suggested changes to make to the code below. It describes many improvements you could make and assigns a number of points to each change. (In general, bigger&#x2F;harder additions are worth more points.)  To get a passing score on this assignment, you must earn at least 20 points, though you should aim to earn at least 40. You can pick which improvements to make, but remember that your goal isn’t just to check off boxes by making the improvements. You want to make something that is actually a good game. (So for example, it is probably necessary to choose the option that expands your world beyond 4 rooms…)</p>
<p>The improvements are not explained in the sort of specific detail that would tell you exactly what changes they include. You have to add this functionality in a way that you think makes for a good game. For example, you have to figure out how to modify the user interface so that the new functionality can be used. (If you are adding doors that require keys to unlock them, do you just make it so you have to be carrying the key to go through the door? Or is there a specific “unlock” command? If so, you should update the “help” description to include information on how to use it.)</p>
<p>I have included an <code>examples</code> folder with compiled Python code for a few different games. There is a very simple “minotaur” game that suggests the kind of minimal game that you can get working for the first “check-in” milestone. Run it with the command:</p>
<pre><code>python3 minotaur-39.py
</code></pre>
<p>This only runs on Python 3.9. There is a second file you can use to run on Python 3.8 instead. There are some stellar compiled examples of past students’ projects. Maybe these will be inspiration for developing your own game. They do illustrate well how others have made improvements and made them fit into their own game’s story. To run them, use the <code>.pyc</code> file for your version of Python. I’m running version 3.9 so I would type</p>
<pre><code> python3 hagoromo-39.pyc
</code></pre>
<p>to run the <code>hagoromo</code> game. There is <code>zoo</code> and <code>owl</code> to try, too.</p>
<p>You should create a document that briefly describes your game and explains its gameplay. You should develop this document as you develop the game. It should include a list of all the improvements you’ve made, the points you feel you earned for each, and a brief explanation of what specifically you did for each improvement. Sometimes there will be very little to say, but if the improvement gave you freedom to choose how things would work, you should say what you chose. If you have to add a new type of monster, for example, say what type you added and what if anything is special about it.  You should also have a quick note about what code in what files was added&#x2F;modified to make this work. You are also free to make improvements that aren’t on the list of options, and if you do that you should describe them here as well. This document should explicitly enumerate and tally for us the points you have earned with your work.</p>
<p>Your project will be evaluated in several ways. These are:</p>
<ul>
<li><p>How many points did you earn from your improvements?</p>
</li>
<li><p>How well did you make the improvements you made? Did you do the minimum to make it count, or do something very challenging? Were there bugs? Were the improvements made in a way that was easy for the user to understand? Were they incorporated well into the game?</p>
</li>
<li><p>How good is the overall game? You should be trying to make a game that is actually fun to play. Pick improvements that help you achieve this and try to design the game well. Make your improvements well-integrated into the game. (For example, if you add weapons to your game, you should make it so that there are various different weapons that exist in the world so that finding a good weapon is part of playing the game. Just having a single weapon on the floor in the starting room that you pick up at the beginning of the game doesn’t add much.) Make sure someone who is new to the game can figure out how to play.</p>
</li>
<li><p>Did you make regular progress in your coding? We will have several “milestones” for this project that we’d like you to reach, and you should think of their dates as real deadlines to meet before the final submission deadline. For these intermediate deadlines you will report by demonstrating your game to us, and show us how much of the work you have completed at each stage. You will be evaluated on your progress with each of these minor deadlines, in addition to what you’ve completed by the major deadline. Start early, do not let this assignment sit.</p>
</li>
<li><p>How well documented is your code and how understandable is it? This applies both to comments in the code and to the document you’re submitting. Your code should be well-written and readable, and we should be able to figure out what you did and how you did it.</p>
</li>
</ul>
<p>Some notes on the work:</p>
<ul>
<li><p>The starter code has each class in a separate file. It is not necessary to make a file for every class. For example, if you have classes defining particular types of items, it might be natural to put them in the same “game items” file. However, it can often be good practice to keep some things in separate files as a way of making the code more manageable.</p>
</li>
<li><p>You should think ahead and have an idea of what you want your game to end up looking like before you start adding things, but you should also add things one at a time in a way that can be tested as they get added.</p>
</li>
<li><p>Leave time for general testing of the game at the end. Even once all of the technical improvements have been made, you will want to change things around a bit to make the game better. Feel free to have a friend play the game and see if they enjoy it, if they can figure out how to play, etc. We will formalize this process with the “beta test” deadline in the last week.</p>
</li>
<li><p>The starter code is meant as starter code. It is okay to change things. You should also not assume everything is done perfectly. You ideally want your program to work gracefully even if, for example, a user makes a typo while inputting a command. The starter code is reasonably good about this sort of thing, but it can certainly be improved.</p>
</li>
</ul>
<h2 id="Working-with-Partners"><a href="#Working-with-Partners" class="headerlink" title="Working with Partners"></a>Working with Partners</h2><p>You are allowed (even encouraged!) to work with a partner on this project. If you do so, you must both contribute roughly equal work to the project. I expect a slightly more ambitious game from you. You will need 25 points to pass and should aim for at least 50 total points (as opposed to 20 and 40 for single individuals).</p>
<p>You should also submit a brief description of who did what work. (This should be no more than a page, probably substantially shorter.) Did you sit at a computer together working? Split things up? Test each others’ code? You should describe briefly what parts each person worked on, what was worked on together, what “worked on together” meant for you, and how you coordinated your efforts.</p>
<p>This is a small enough project that coordinating the efforts of two people should not be too complicated, but if you’re interested, I would recommend using a Git repository. (These can be set up for free online, and a quick google search will give not only the needed resources but also instructions on how to use Git.)</p>
<h2 id="Deadlines"><a href="#Deadlines" class="headerlink" title="Deadlines"></a>Deadlines</h2><p>This project will include several intermediate deadlines.</p>
<ul>
<li><p><strong>Game Proposal:</strong> <em>April 17th.</em> Submit a brief text file to the Gradescope submission system. This should say who you will partner with (if anyone) and the general game idea. (The game idea is just a very basic description– two or three sentences should be plenty.)  If you are working with a partner, you should both separately submit the same proposal file.</p>
</li>
<li><p><strong>Progress check-in:</strong> <em>Thursday, April 28th.</em> By this day you should have done the work to have earned at least 20 points, 30 ideally, though perhaps crudely implemented. Briefly show these changes to a TA or professor, either during lab, or during professor office hours, or TA evening hours. We will evaluate your progress.</p>
</li>
<li><p><strong>Project submission:</strong> <em>Wednesday, May 5th.</em> Submit your game’s code and any of its supporting files, a description of your game and instructions for playing it, and a report of the features you implemented with a breakdown of the point total you reached.</p>
</li>
</ul>
<h2 id="Menu-of-improvements"><a href="#Menu-of-improvements" class="headerlink" title="Menu of improvements"></a>Menu of improvements</h2><ul>
<li><p><strong>“me” command</strong> <em>(2 points)</em>:<br>Create a command that lets the player see their current status, including their health and&#x2F;or whatever other attributes you’ve added.</p>
</li>
<li><p><strong>bigger world</strong> <em>(2 points)</em>:<br>The game starts with four rooms. That is not enough for much to happen in. Make the world bigger and more interesting. Give descriptions to rooms that say more than just a room number.</p>
</li>
<li><p><strong>“inspect” command</strong> <em>(2 points)</em>:<br>Create a command that lets the player look at items. This should display the item description. The player should be able to look at both items they see in their current location and items in their inventory.</p>
</li>
<li><p><strong>limited inventory</strong> <em>(2 points)</em>:<br>Make objects you’re carrying have a size or weight, and put a limit on how much you can carry.</p>
</li>
<li><p><strong>“drop” command</strong> <em>(2 points)</em>:<br>Make it so that the player can drop items, so that their inventory doesn’t become unreasonably large.</p>
</li>
<li><p><strong>weapons</strong> <em>(2 points)</em>:<br>Implement a new type of item for weapons, ones that a player can use to make themselves more formidable in battle. This will requires modifying how fights against monsters work.</p>
</li>
<li><p><strong>armor</strong> <em>(2 points)</em>:<br>Implement a type of item for armor.  These make it harder for a monster to kill the player.</p>
</li>
<li><p><strong>healing items</strong> <em>(2 points)</em>:<br>Create items that players can use to restore health. These items should only be usable once each and should disappear when used. </p>
</li>
<li><p><strong>item stacking</strong> <em>(2 points)</em>:<br>Make the inventory display ‘(x2)’ if there are two identical items (and so on, if there are more), rather than listing the item name twice.</p>
</li>
<li><p><strong>introducing monsters during play</strong> <em>(2 points)</em>:<br>Make it so that over time new monsters appear in the world.</p>
</li>
<li><p><strong>“wait” command</strong> <em>(2 points)</em>:<br>In the game as it is, time passes only when you move to a new room. Make it so that you can type a command that just lets time pass. Or implement a trickier version: let the user type a number so they can wait for a number of turns with only one command entry.</p>
</li>
<li><p><strong>regeneration</strong> <em>(2 points)</em>:<br>Have the player regenerate in some way over time. The easiest thing is to make health increase a little each turn, but there are other things you could do as well.</p>
</li>
<li><p><strong>locked chests</strong> <em>(3 points)</em>:<br>Create “chests” or other containers that cannot be opened without a key, and also the relevant keys.</p>
</li>
<li><p><strong>locked doors</strong> <em>(3 points)</em>:<br>Create doors that cannot be used unless first unlocked with a key, and also the relevant keys.</p>
</li>
<li><p><strong>containers</strong> <em>(3 points)</em>:<br>Make containers (bags, boxes, etc.)  that can hold other objects.</p>
</li>
<li><p><strong>victory condition</strong> <em>(3 points)</em>:<br>Create a way for the player to win the game.</p>
</li>
<li><p><strong>random world</strong> <em>(3 points)</em>:<br>Make the world be generated in a random way when the program is run so that it’s somewhat different each time the game is played.</p>
</li>
<li><p><strong>loot</strong> <em>(3 points)</em>:<br>Make it so that defeating some monsters causes useful items to appear. There should be some amount of randomness about what those items are.</p>
</li>
<li><p><strong>events</strong> <em>(3 points)</em>:<br>Make it so that interesting things sometimes happen. Their ocurrence can be governed by a timer or they could happen just at random.</p>
</li>
<li><p><strong>more monsters</strong> <em>(3 points)</em>:<br>Create several different types of monsters. They should not just have different names, but really be different in important ways.</p>
</li>
<li><p><strong>special rooms</strong> <em>(3 points)</em>:<br>Make rooms that have some effect on the player or monsters when they are entered.  Maybe there’s a hospital that heals you when you enter it? That sort of thing.</p>
</li>
<li><p><strong>complex rooms</strong> <em>(3 points)</em>:<br>Give rooms some additional attributes or behavior. Maybe they get dirty?  Or full? Or different types behave differently?</p>
</li>
<li><p><strong>player attributes</strong> <em>(3 points)</em>:<br>By default the only characteristic of the player is their health.  Add more attributes that affect what the player can do.</p>
</li>
<li><p><strong>command abbreviations</strong> <em>(1-3 points)</em>:<br>The typing needed to play a text adventure can get tedious. Usually games allow abbreviations.  This could simply just be some short, alternate commands (“inv” instead of “inventory”, etc.)  or, more ambitiously, you could accept any string that is the start of only one command. And&#x2F;or you could allow items, monsters, and other things to be abbreviated in some consistent way.</p>
</li>
<li><p><strong>helper</strong> <em>(4 points)</em>:<br>Create an autonomous character that is on your side and does something helpful. You should have some ability to control&#x2F;influence how they behave. Maybe you need to ask for their help or ask them to join&#x2F;follow you in your quest, etc.</p>
</li>
<li><p><strong>currency</strong> <em>(4 points)</em>:<br>Create a currency for the game. There should be a way for the player to gain currency, and also useful ways for them to spend the currency. (A merchant? a store?)</p>
</li>
<li><p><strong>leveling up</strong> <em>(4 points)</em>:<br>Add a mechanism for “leveling up” the player. That is, as they accomplish things in the game, the player should get stronger in some way.</p>
</li>
<li><p><strong>crafting</strong> <em>(4 points)</em>:<br>Create some system where the player can use an item, or several items, to construct a useful item.</p>
</li>
<li><p><strong>magic</strong> <em>(4 points)</em>:<br>Create a system where the player has “spells” (or “abilities,” whatever best fits your theme) that they can use (possibly learned during the game). There should be some restriction on how often spells can be cast.</p>
</li>
<li><p><strong>characters</strong> <em>(4 points)</em>:<br>Characters are neutral beings in the game that you can talk to and interact with.  (The “talking to” can be a matter of picking one of several options of things to say from a list.) They should interact with you or the world in some way when you talk to them. This should be different than the “helper” above (that is, if you make a helper character, then you need another character to get credit for this option).</p>
</li>
<li><p><strong>modifying the world</strong> <em>(4 points)</em>:<br>Allow the player to modify rooms&#x2F;locations in some way, more than just by grabbing&#x2F;dropping objects. The changes they make should have a real effect on the gameplay. This could be something like lighting a candle that allows you to see the contents of the room, but only if you are carrying matches. It could be digging a hole that traps monsters. It could be turning on a faucet to flood a room that eventually floods nearby rooms. Perhaps you can make it so that the player creates new rooms or locations with an action.</p>
</li>
<li><p><strong>map</strong> <em>(3 to 6 points)</em>:<br>Allow the player to gain the ability to inspect a map of the world. Or give them the ability to look at a map from the start, but make it so that the contents of the map are slowly revealed (say, as rooms are explored). The map can just be “ASCII art,” a printed display.  This is worth more points if you have a larger&#x2F;complex world, or display some interesting things in each location, or limit the map in some way.</p>
</li>
<li><p><strong>saving the game</strong> <em>(10 points)</em> :<br>Let a player choose to save their game to come back to later. This should create a file in the folder where the program is stored (or maybe in a “saved” subfolder of that folder) with a name specified by the user. On starting the program, the user should have the option to continue from the point at which they saved, instead of creating a new game.</p>
</li>
<li><p><strong>graphical interface</strong> <em>(10 points)</em>:<br>Typing is annoying. Make the program work through a graphical interface instead of typed commands.  You don’t have to create pictures that actually look like the world. You can have a window, with portions dedicated to displaying the description of the current room, what monsters, are there, what items are there, etc. Within this interface, actions should be made by clicking buttons with the mouse or by hitting single keys as controls, rather than just through typing commands. Common options here are the <code>curses</code> library or the “Tk interactive” library <code>tkinter</code>.</p>
</li>
<li><p><strong>choose your own</strong> <em>(? points)</em>:<br>Make whatever changes you want, beyond the required points, if it helps make the game better. If it’s important to you to get points for these changes, talk to Jim, David, or Eitan to figure out how many points they are worth.</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/proj4/" data-id="clcv35ijn000ukxt09njh1aa0" data-title="Project 4 -- Adventure" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-proj3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/proj3/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T07:05:52.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/proj3/">Project 2 -- Hawks and Doves, simulating competition among birds</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Complete and submit by 4&#x2F;15 at 1:00pm</strong></p>
<hr>
<ul>
<li><a href="hawkdove.py">starting code for the <strong>hawkdove</strong> project</a></li>
</ul>
<hr>
<p>In this project you will build a small ecosystem. In this ecosystem birds of various species look for food. Sometimes they find it and eat it. Other times they find it, but so does another bird. The birds then have the choice to fight for the food or to be passive. Depending on their decisions, they could get the food or not, but they could also be injured in the fight. You will create different species of birds with varying behaviors and see how those species thrive (or not) in certain situations.</p>
<p>The scenarios you’ll be investigating here are commonly talked about in a variety of fields. We’ll be focusing on the programming, but there are lots of important ideas here, and the analysis of this sort of situation is of interest to biologists, economists, mathematicians, and others. Computer simulation is only one way to go about thinking about these issues, but it is a tool that can add help greatly with this analysis (and with more complicated scenarios of a similar type).</p>
<h2 id="The-model"><a href="#The-model" class="headerlink" title="The model"></a>The model</h2><p>The system we simulate is a very simple one, without most of the complexities of the real world. The only active animals in our world will be birds. Each bird has a number representing its health, which starts at 100. If a bird eats, its health goes up. If it is injured, its health goes down. Birds also lose a small amount of health each unit of time. (This represents their normal rate of burning calories—a bird that doesn’t eat slowly gets less healthy over time.) If the health of a bird hits 0, it dies. If the health goes high—over 200—then the bird reproduces. When it reproduces, its health goes down by 100, and a new bird is created.</p>
<p>Birds find food in one of two ways. Each time step, there are 10 units of food that are found by single birds on their own, who then get to eat the food without worry. There are also 50 units of food that are contested—one bird finds the food, but another approaches before they can eat it. In cases of contested food, each bird has two options—they can be passive or aggressive. Depending on what they choose, one of the following scenarios will occur:</p>
<ul>
<li><p><strong>Two passive birds.</strong> When both birds are passive, they will engage in displays meant to get the other bird to leave, and this will continue until one bird does so. The display costs a small amount of health for each bird, and it is random which of the birds ends up with the food.</p>
</li>
<li><p><strong>One aggressive and one passive bird.</strong> If one bird is aggressive and the other is passive, the passive bird will flee and the aggressive bird will get the food.</p>
</li>
<li><p><strong>Two aggressive birds.</strong> When both birds are aggressive, they will fight. One bird (chosen randomly) will win, and they will get the food. The loser instead is injured, reducing their health.</p>
</li>
</ul>
<p>We will be modeling several types of birds. We’ll begin with hawks and doves. Hawks will always be aggressive, while doves will always be passive. Once we have that simulation working correctly, we’ll add other types of birds. Along the way we’ll get a bunch of interesting results.</p>
<p><strong>Programming note:</strong> The goal of this project is to show you object-oriented programming used in a particular way. As a result, we will be very precise about exactly what classes there should be, what methods those classes should have, and what those methods should do. Follow the instructions carefully.</p>
<h1 id="First-Experiment-hawks-and-doves"><a href="#First-Experiment-hawks-and-doves" class="headerlink" title="First Experiment: hawks and doves"></a>First Experiment: hawks and doves</h1><p>Our first goal is to run the simulation with just hawks and doves. In order to do this, we’ll need to write a lot of code. Your starter code file, <code>hawkdove.py</code>, contains an outline of what we will need.</p>
<p>It has the needed <code>import</code> statements, and it has a set of constants defined at the top. These constants determine the relative values of food, injuries, and displays, as well as how many of each type of bird we create at the start of the simulation. It also has the code for actually running the simulation, but that code won’t work yet. In between those things, we’ll need to add several classes, each with several methods, that will represent the world of our simulation and the birds that live within it. Follow the steps below to add these pieces.</p>
<ol>
<li><p>Create a <code>World</code> class. This will represent the world as a whole. (We will only ever create one actual world object.) The initialization method should take no parameters other than <code>self</code>. The class should only have one instance variable, a list of currently-existing birds, and that list should initially be set to the empty list <code>[]</code>.</p>
</li>
<li><p>Create a <code>Bird</code> class. We won’t actually create any instances of this class, but we’ll have other classes that inherit from <code>Bird</code> and represent specific types of birds. It will be useful to define some things about birds here so that we don’t need to repeat them many times later. The <code>Bird</code> initialization function should take a single parameter other than <code>self</code>, a world object. The bird should then add itself to the list of birds that exist in that world. It should also keep an instance variable storing the world that it is in, and it should have an instance variable tracking its current health, which starts at <code>100</code>.</p>
</li>
<li><p>Add an <code>eat</code> method to the <code>Bird</code> class. This method should take no additional parameters. When it is called, it should increase the bird’s health by the amount specified by the <code>foodbenefit</code> constant.</p>
</li>
<li><p>Add an <code>injured</code> method to the <code>Bird</code> class. This method should take no additional parameters, and should reduce the bird’s health by the amount specified by the <code>injurycost</code> constant.</p>
</li>
<li><p>Add a <code>display</code> method to the <code>Bird</code> class. This method should take no additional parameters and should reduce the bird’s health by the amount specified by the <code>displaycost</code> constant.</p>
</li>
<li><p>Add a <code>die</code> method to the <code>Bird</code> class. This method should take no additional parameters and should remove the bird from its world’s bird list.</p>
</li>
<li><p>Add an <code>update</code> method to the <code>Bird</code> class. This method takes no additional parameters and it represents one unit of time passing. It should reduce the bird’s health by <code>1</code> (representing calories being burned) and then should check whether the health is at or below <code>0</code>. If so, the bird should die (which you can make happen using the <code>die</code> method). We now have a <code>Bird</code> class that has all the basic functionality.</p>
</li>
<li><p>Let’s now add additional functionality to the <code>World</code> class. First, create an <code>update</code> method in this class. It should take no additional parameters, and should simply call the <code>update</code> method for each bird in the bird list. With this we now have a single method we can call that makes time pass for every individual in our simulation.</p>
</li>
<li><p>Add a <code>free_food</code> method to the <code>World</code> class. This represents the uncontested food that birds can find. It should take a single integer as its parameter. It should then award a free unit of food that many times. Each award of free food is done by picking a random bird from the bird list and having that bird <code>eat</code>. (Each choice of bird should be made independent of the others—it is possible a bird will get free food multiple times in a single <code>free_food</code> call if the bird is lucky.)</p>
</li>
<li><p>Now create <code>Dove</code> and <code>Hawk</code> classes, representing our two types of birds. These classes should inherit from <code>Bird</code>, so we won’t need to add all that much to them. Each should have a class variable called <code>species</code> that is a string representing the species of that bird. The <code>Dove</code> class should have species set to <code>&quot;Dove&quot;</code> and the <code>Hawk</code> class should have species set to <code>&quot;Hawk&quot;</code>. There is no need to add initialization functions to either class—the initialization function <code>__init__</code> in <code>Bird</code> will do just fine.</p>
</li>
<li><p>Add <code>update</code> methods to <code>Dove</code> and <code>Hawk</code>. These are modifications of the method for <code>Bird</code>. They should do the same things <code>Bird</code> does. (Don’t repeat the code—use the function from <code>Bird</code>.) Then they should also reproduce if necessary. After the standard <code>update</code> (including the health reduction) these methods should check whether the dove&#x2F;hawk has health of at least <code>200</code>. If so, the health should be reduced by <code>100</code> and a new bird (of the same type) should be created (in the same world).</p>
</li>
<li><p>Add a <code>defend_choice</code> method to <code>Dove</code> and <code>Hawk</code>. This method takes no input and “asks” the bird whether it will defend itself if another bird finds it with food. Doves never will, so their function should always return <code>False</code>, while hawks should have a function that always returns <code>True</code>.</p>
</li>
<li><p>Finally, we need to add a method that represents a hawk&#x2F;dove coming upon another bird with food. This method will be called <code>encounter</code>, and it takes as input another bird (the one that has already found the food). It should use <code>defend_choice</code> to find out if the other bird will defend itself, and then respond accordingly. A dove will run away if the other bird defends itself, having no effect on the dove, and letting the other bird eat. (Remember, you need to explicitly have the other bird eat.) If the other bird does not defend itself, both birds should display, then a random one of the two should eat the food. A hawk on the other hand will always eat if the other bird does not defend itself. If it does, the two fight with a random winner. The winner eats and the loser gets injured. Once this is done, your <code>Hawk</code> and <code>Dove</code> classes are complete.</p>
</li>
<li><p>We can now complete the <code>World</code> class. First we add a <code>conflict</code> method. This is the analogous function to <code>free_food</code>, and it creates encounters between birds over food. It should take a number parameter and make that many encounters occur. In each encounter, two (different) birds should be randomly selected. An encounter should then occur where one of the birds finds the other. (Do this by calling the <code>encounter</code> method.)  Like with <code>free_food</code>, the same bird can be chosen for multiple encounters.</p>
</li>
<li><p>Add a <code>status</code> method to world. This method should count the number of birds of each species that currently exist and print a summary of that information to the terminal.</p>
</li>
</ol>
<p>We can now run our first experiments. Set <code>init_hawk</code> and <code>init_dove</code> to 50, and <code>init_defensive</code> and <code>init_evolving</code> to 0 (these are two types of birds we haven’t made yet, so we don’t want them in this experiment). Then set <code>injurycost</code>, <code>displaycost</code>, and <code>foodbenefit</code> to <code>11</code>, <code>1</code>, and <code>8</code> respectively. Run the script. The code provided at the bottom will run the experiment for <code>10000</code> units of time, at each step providing free food <code>10</code> times and contested food <code>50</code> times. At the end, you should see a mix of hawks and doves. Try changing <code>injurycost</code> to <code>7</code>. Now you should see that only hawks survive. Play around with different numbers. You should find that you can create outcomes that mix hawks and doves and outcomes that are all hawks, but no outcomes that are all doves.</p>
<h1 id="Second-Experiment-defensive-birds"><a href="#Second-Experiment-defensive-birds" class="headerlink" title="Second Experiment: defensive birds"></a>Second Experiment: defensive birds</h1><p>Next we want to add a new type of bird. This type of bird is “defensive”—if it finds food first, it will fight to defend it from other birds, but it will not attack other birds to take their food. (It will, however, display in the way doves do.) It also of course creates additional defensive birds when it reproduces. You should create a <code>Defensive</code> class to represent this bird. Remember that <code>defend_choice</code> determines what a bird does when it has already found food and another bird appears, while <code>encounter</code> determines what it does when it finds another bird already with food. Remember to avoid repeating code whenever possible!</p>
<p>When you have such a class created, set <code>init_defensive</code> to <code>50</code> so that we now have three types of birds in our experiment. Now try several experiments. Set <code>injurycost</code> to <code>10</code>, <code>displaycost</code> to <code>1</code> and <code>foodbenefit</code> to <code>12</code>. You should see that only hawks survive. If you instead change <code>foodbenefit</code> to <code>8</code>, you should see only defensive birds. Can you find settings that give a mix of defensive birds and hawks? Can you find settings where doves survive?</p>
<h1 id="Third-Experiment-evolution"><a href="#Third-Experiment-evolution" class="headerlink" title="Third Experiment: evolution"></a>Third Experiment: evolution</h1><p>Now we make a bigger change. Instead of specifying exactly what type of birds we have and how they behave, we want to allow birds to behave in a variety of ways and let them evolve over generations. We’ll get rid of doves and hawks and defensive birds. Instead we’ll use a new class, <code>Evolving</code>, that can represent birds of various kinds. We’ll let these new birds vary in two ways. One is that they will have different levels of aggression, choosing to fight more or less frequently. The other is that they’ll vary by weight, with heavier birds winning fights more often but also burning more calories over time. Then, we’ll let these birds evolve— children of a bird will have roughly the same (but not identical) attributes as the parent—and we can see how the birds change over time.</p>
<p>First, you’ll need to write <code>defend_choice</code> and <code>encounter</code>. These methods need to account for the new way birds choose whether to fight. A bird should choose to fight with a probability equal to its aggressiveness (which will always be between <code>0.0</code> and <code>1.0</code>). (Note that this is true whether encountering another bird or defending—we’re dropping the distinction we made in <code>Defensive</code>.) The <code>encounter</code> method also needs to account for the new, more complicated method of fighting. We want heavier birds to win fights more often, so we will say that if the two birds have weights <code>w1</code> and <code>w2</code>, then the probability of first bird winning is <code>w1/(w1+w2)</code>.</p>
<p><strong>Programming tip:</strong> calling <code>random.random()</code> provides a uniform random number between <code>0.0</code> and <code>1.0</code>. You can use this to make things happen with a certain probability.</p>
<p>Next you need to write <code>update</code> and <code>__init__</code>. These functions will be used to create two changes from our previous birds. The first is that heavier birds burn more calories. As a result, we want health to decrease by <code>0.4 + 0.6 * w</code> at each unit of time. (This is still 1 for the smallest birds, but it scales up as the birds get larger.)</p>
<p>The bigger change, however, will be to how reproduction works. It is no longer enough to just create another bird of the same type. We want the offspring of a successful bird to be similar to its parent, but with some variation. (This is a rough approximation of mutations that occur in nature.) You should modify the initialization function for <code>Evolving</code>. It should take one additional argument, the evolving bird’s parent (which could be <code>None</code>).  If this <code>parent</code> argument is set to <code>None</code> (this is what we use when we create the initial population of “Adam&#x2F;Eve” birds at the start of the experiment) then the <code>weight</code> and <code>aggression</code> should be chosen as floating point numbers from the allowed ranges (between <code>0.0</code> and <code>1.0</code> for <code>aggression</code> and between <code>1.0</code> to <code>3.0</code> for weight).</p>
<p>If instead, the <code>parent</code> parameter is not <code>None</code>, then we give this new bird a <code>weight</code> and <code>aggression</code> close to that of its parent by setting each attribute to that of its parent plus or minus a small random amount.  In particular, <code>weight</code> should be set to the parent’s <code>weight</code> plus a random value between <code>-0.1</code> and <code>0.1</code>. Similarly, <code>aggression</code> should be the parent’s <code>aggression</code> plus a random value between <code>-0.05</code> and <code>0.05</code>. We do, however, want these values to stay in the allowed ranges (again, from <code>0.0</code> to <code>1.0</code> for <code>aggression</code> and from <code>1.0</code> to <code>3.0</code> for <code>weight</code>.) If the random variation would put a value above&#x2F;below the allowed maximum&#x2F;minimum, then instead set it to the maximum&#x2F;minimum exactly.</p>
<p><strong>Tip:</strong> <code>random.uniform(a,b)</code> returns a random floating point number between <code>a</code> and <code>b</code>.</p>
<p>The reproduction part of <code>update</code> should use this <code>__init__</code> by creating a new <code>Evolving</code> bird, passing <code>self</code> as the parent parameter. This means that new birds will be similar to the ones that survived, with some mutation. And since the birds we create in the beginning for the initial population are built with a <code>None</code> parent, they’ll have widely varying random values.</p>
<p>Finally, we need a way to show what the evolving birds are like at a given point in time. We can’t just print counts of each type of bird anymore, so instead we’ll create a simple scatter plot of the weights and aggressiveness of the birds. A simple function for producing scatter plots, <code>plot</code>, has been provided for you. It takes two lists as parameters. The first parameter is the list of <em>x</em> coordinates of points being plotted, which will for us be the <code>weight</code> of each bird in the population.  The second parameter is a list of the corresponding <em>y</em> coordinates (in this case each bird’s aggressiveness). The two lists must correspond in order—the <em>i</em>-th <em>x</em> coordinate must correspond to the same individual as the <em>i</em>-th <em>y</em> coordinate. Add a method <code>evolvingPlot</code> to the <code>World</code> class that creates a scatter plot of all the current <code>Evolving</code> birds.</p>
<p>We can now run an experiment with these birds. At the bottom of the file, uncomment the line that makes a plot of evolving birds. Then set the initial bird counts so that the only birds we have are <code>150</code> evolving birds. Finally, set <code>injurycost</code> to <code>10</code>, <code>displaycost</code> to <code>1</code> and <code>foodbenefit</code> to <code>8</code>. When you run the script, you should see that our evolving birds naturally separate into two “species” clumps—one passive, light clump fulfilling the “dove” role, and one aggressive, heavier clump fulfilling the “hawk” role. Try varying these constants to see what is possible. You should find that some settings will result in two clumps (though one of these clumps can move around), while others result in a single clump.</p>
<h1 id="What-all-of-this-means"><a href="#What-all-of-this-means" class="headerlink" title="What all of this means"></a>What all of this means</h1><p>The above description focused on the programming, since that’s what this class is about. The phenomena that you have simulated, though, are part of a deep and interesting area of study. Game theory is the mathematical modeling and analysis of strategic interactions between rational actors. It is widely used in economics to model market interactions—11 game theorists have now won Nobel prizes in economics. Political scientists use it to model any number of things, including international relations and domestic politics.</p>
<p>Modern game theory began as a result of groundbreaking research by John von Newmann and his 1944 book with Oskar Morgenstern, though some of the basic ideas had been seen earlier in works by Cournot and others. The most famous game theorist is probably John Nash, in part due to the movie A Beautiful Mind. Nash developed the definition of Nash equilibria, the standard solution concept for games, and proved that such equilibria exist in all games. For a more detailed overview of game theory, I recommend the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Game_theory">Wikipedia article</a>.</p>
<p>The game we simulated in Experiment 1, Hawk-Dove, is a special case of the game of Chicken, a standard example in economics. The Hawk-Dove version was introduced by John Maynard Smith and George Price in a 1973 paper, “The logic of animal conflict.”  Smith also introduced the idea of an “evolutionarily stable strategy,” a solution concept for games specifically tailored to modeling evolution. Again, I recommend the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Chicken_(game)">Wikipedia article</a> on the game to see more explanation.</p>
<p>Games can be (and usually are) analyzed without computer simulation. A large set of mathematical tools has been developed so that one can tell what the equilibrium of a game will be without need to simulate it. However, simulation can provide a concrete means to see how the game behaves. It can also be used to answer difficult questions when the theory becomes very difficult in complicated games. For example, see <a target="_blank" rel="noopener" href="http://octavia.zoology.washington.edu/publications/BergstromAndGodfreySmith98.pdf">this paper by Bergstrom and Godfrey-Smith</a>. This is an example of modern research in biology that uses computer simulation of the hawk-dove game.</p>
<p>The results of these models do really tell us something about how the world works. The mixed results of the hawk-dove simulation help explain why a variety of animals exist and behave in different ways. The fact that these mixed results disappear in certain cases, with hawks becoming dominant (but never the reverse dominance for doves) also tells us something about which animals might succeed in which sort of situation.</p>
<p>The strength of the defensive strategy also has wide-ranging implications. It has been used as an argument for why territoriality might develop among certain animals. It can even be used to explain why social norms or a sense of “ownership” might evolve. Rules that specify who should get what reduce conflict, and in some cases it can do so in a way that makes every individual benefit from following the rules, even if they are arbitrary. (Of course, there are many other potential explanations of these things as well.)</p>
<p>The simulation of evolving birds also of course has relevance to biology. You can see how the mixed equilibrium of hawks and doves can appear even if the initial animals do not fall into two separate species. It can even be used to model one way that speciation might occur, with a previous homogenous population separating into two distinct types.</p>
<p>Game theory is also used in a variety of fields in computer science. Algorithms research now includes a substantial effort to find efficient ways of analyzing games to find various sorts of equilibria. (This turns out to be a very difficult problem.) Game theory is also used to model interactions between multiple actors. This includes network protocols, peer-to-peer file sharing protocols, and any other situation where protocols are being written for multiple agents to interact. (The goal here is to make it so that self-interested participants can’t deviate from the prescribed protocol in order to take more resources for themselves.) It also has a natural home in cryptography, which routinely studies the interaction of untrustworthy agents. One member of our CS faculty has done research in this area of cryptography and would be happy to talk to you about it if you’re interested.</p>
<h1 id="Submitting-your-work"><a href="#Submitting-your-work" class="headerlink" title="Submitting your work"></a>Submitting your work</h1><p>All you need to submit for this project is the main file containing all your work. Upload it to the homework submission site whenever you are ready.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/proj3/" data-id="clcv35ijm000skxt0h3l1dhk4" data-title="Project 2 -- Hawks and Doves, simulating competition among birds" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-proj2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/proj2/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T07:05:50.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/proj2/">Project 2 -- Stats/Chats</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Complete and submit by 3&#x2F;30 at 1:00pm</strong></p>
<p>For this project, you will be working with lists and dictionaries to perform some form of data analysis. Specifically, you will be generating text based on analysis of other texts. </p>
<p>This project has two parts.  The first part is a text analyzer that reports statistics about word use in the text it processes. The second part builds from the same idea, but pays attention instead to the <em>bi-grams</em> and <em>tri-grams</em> (runs of 2 or 3 words) of the text it analyzes, training a random process.  That process generates a random text that mimics the writing of the text by which it was trained.</p>
<p>The first part will feel quite a bit like you are solving several lab homework exercises. You should work to get Part 1 working quickly.  The set-up of the first part is to help you see how a larger Python script can can be structured. It will teach you how to decompose a coding project so as to allow for incremental progress in its completion and also to enable easy testing of its components.</p>
<p>Having completed Part 1, you’ll then want work to quickly learn the ideas necessary for completing Part 2. You’ll probably also want to break that coding up into several functions like we do for Part 1, but we let you use your own judgement to do that work.</p>
<p>• Download the <a href="stats-chats.zip"><strong>project folder</strong></a> for this work.</p>
<h2 id="On-text-analysis"><a href="#On-text-analysis" class="headerlink" title="On text analysis"></a>On text analysis</h2><p>There is a growing area of the study called <em>digital humanities</em> that treats human-written texts as <em>data</em>, making them subject to the same kinds of analysis that scientists and social scientists my use to reason about their objects of study. By treating a text this way a scholar may get insights into an author’s use of language. What is the structure of their prose? What word choices do they tend to make? Do they have a signature style that can be quantified in some way? Such analyses might, for example, help us identify an author of an anonymous text, or be used as evidence to support or reject hypothesized authors.</p>
<p>The first cut at such analyses looks at word frequencies. Suppose, in a 500 page text, the author used 10000 words only once. What does that say about their writing? Does that say anything about their prose? Maybe they use verbs in a passive versus and active tense.  Do their sentences tend to be long or short?  Etc. Alternatively: how many times does a character’s name appear in a certain novel?</p>
<p>The algorithms and data structures that support these kinds of analyses, it turns out, are fairly foundational and can be applied in many settings. The same techniques you might use to analyze a text, can also be used to study genetic sequences, or protein structure, and maybe even general data that makes up our files’ and programs’ sequences of bits.</p>
<p>Related to this is the question of information content, the essential make-up of text, digitally speaking. Can the document be compressed so that it uses fewer bits? Can we summarize some of its content? Can we make its ideas searchable? Can we relate it to other documents in some way?</p>
<h2 id="On-text-synthesis"><a href="#On-text-synthesis" class="headerlink" title="On text synthesis"></a>On text synthesis</h2><p>Also related to these notions of how we characterize a text digitally is a question of <em>text generation</em>. Can we use our techniques to generate novel, meaningful sequences of words? As we hear in the news, there are <em>bots</em> that post information on sites, send spam emails, and in some very near future will interact with us in text or in speech in novel ways.</p>
<p>We are in the midst of a technical revolution in this regard: deep learning and statistical techniques are able to represent parsable sentence structure in some remarkable ways and can string words together <a target="_blank" rel="noopener" href="https://www.newyorker.com/magazine/2019/10/14/can-a-machine-learn-to-write-for-the-new-yorker">so as to have seeming meaning and content.</a> Nevertheless, there is much work to be done, and every development highlights the difficulty of natural language processing and synthesis, and the huge complexity that must clearly be involved in human thought and communication.</p>
<p>For this project we build a very simple model for synthesizing sequences of words that mimiic human-written texts, albeit in a very limited way.  We build a <em>stochastic process</em> by analyzing the frequency of the third word of every three-word sequence in a text. The idea here is that, when we are reading a text (say, the words you are reading <em>right now</em>) our minds build expectations for the next word we read based on the last few words we’ve just read.</p>
<p>If you read “<em>The dog…</em>“, say, you might not be surprised if the next word is “<em>barked</em>“, or “<em>sat</em>“, or “<em>slept</em>“, and maybe even “<em>park</em>“ or “<em>house</em>“. You might not expect “<em>purred</em>“, or “<em>philosophized</em>“, or “<em>rented</em>“, and probably not “<em>candelabra</em>“ or “<em>eight</em>“.  And, maybe having then read “<em>The dog barked</em>“, you’d be surprised to see “<em>sat</em>“ next and not be surprised to see “<em>loudly</em>“ next.</p>
<p>Imagine processing the text of a novel whose main character has a faithful dog companion in a few key moments of its story.  The two-word sequence (or <em>bi-gram</em>) “<em>the dog</em>“ might occur 12 times, and have “<em>slept</em>“ follow 3 of those times, have “<em>barked</em>“ follow 5 times, have “<em>sat</em>“ follow twice, and “<em>park</em>“ follow twice.  And maybe “<em>dog barked</em>“ would have “<em>at</em>“ happen several times (even more than 6, if “<em>his dog barked</em>“ was also a common triple), but also “<em>loudly</em>“ twice, and so on.</p>
<p>Using the data structures we just learned, we could build a dictionary full of a text’s bi-grams. Each entry in the dictionary could have the list of following words and their frequencies. The dictionary would have these contents represented as below</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123; # dictionary of bi-grams, along with their following words</span><br><span class="line">  ...</span><br><span class="line">  &quot;the dog&quot;:[[&quot;slept&quot;, 3], [&quot;barked&quot;,5], [&quot;sat&quot;,2], [&quot;park&quot;,2]],</span><br><span class="line">  ...</span><br><span class="line">  &quot;dog barked&quot;:[[&quot;at&quot;,...],</span><br><span class="line">  ...</span><br><span class="line">  &quot;his dog&quot;:[[&quot;barked&quot;,...]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the above, we’ve chosen to represent the occurrences of words that follow bi-grams as a dictionary whose keys are strings. Each string contains two words separated by a space. Each of these bi-grams has an associated value in the dictionary. It is the list of words that follow that bi-gram in the text, paired with the number of times that word followed that bi-gram.</p>
<p>We can turn this analysis around to generate random text.  Suppose we decided to, while writing a novel, start with the words “<em>The dog</em>“, we could then chooose where to go next in our writing totally at random. We toss a 12-sided die, choosing to type “<em>slept</em>“ if 1, 2, or 3 comes up, “<em>barked</em>“ if 4 through 8 comes up, “<em>sat</em>“ if 9 or 10, and “<em>park</em>“ if we roll an 11 or 12.  And say we rolled a 10.  We type “<em>sat</em>“ and then play the same random game to maybe choose between “<em>down</em>“ or “<em>between</em>“ or “<em>on</em>“, etc. Continuing this way, maybe we write a random novel.</p>
<h1 id="Text-analysis-with-stats-py"><a href="#Text-analysis-with-stats-py" class="headerlink" title="Text analysis with stats.py"></a>Text analysis with <code>stats.py</code></h1><p>As a warm up to analyzing the bi-grams of a text, we start by just analyzing the use of individual words. We’re going to write code that reads the words of a text, stored in a text file, and counts how many times each word appears in that text.</p>
<p>In the downloaded project folder you’ll find the starting code for this part of the assignment, the file <code>stats.py</code>. It contains a script that gets the name of the text’s file, processes the file, and then reports the frequency of occurrence of words appearing in that text. Once you’ve written everything, your program should have the kind of interaction shown below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ python3 stats.py</span><br><span class="line">READING text from STDIN. Hit ctrl-d when done entering text.</span><br><span class="line">Fair Reed</span><br><span class="line">All hail, Alma Mater, new born of the West</span><br><span class="line">Where the mighty Columbia flows,</span><br><span class="line">Thou fortunate heir of the pioneers&#x27; quest,</span><br><span class="line">All hail to the griffin and rose.</span><br><span class="line">Thou wilt cherish thine own through woe and through weal,</span><br><span class="line">Thou wilt throw on the pathway a light,</span><br><span class="line">Never dimming the truth thru a partisan&#x27;s zeal,</span><br><span class="line">Never doubting the triumph of right.</span><br><span class="line">DONE.</span><br><span class="line">HERE are the word statistics of that text:</span><br><span class="line"></span><br><span class="line">That text was 62 words in length.</span><br><span class="line"></span><br><span class="line">There are 45 distinct words used in that text.</span><br><span class="line"></span><br><span class="line">The top 10 ranked words (with their frequencies) are:</span><br><span class="line">1. the:7, 2. thou:3, 3. of:3, 4. never:2, 5. a:2, 6. through:2, 7. w</span><br><span class="line">ilt:2, 8. and:2, 9. hail:2, 10. all:2</span><br><span class="line"></span><br><span class="line">Among its 45 words, 35 of them appear exactly once.</span><br></pre></td></tr></table></figure>

<p>You should know that, in the above, the lines from “<code>Fair Reed</code>“ down to the line above “<code>DONE.</code>“ were entered by the user into the console.  After they hit the <code>[RETURN]</code> key, they they hit <code>[CONTROL-d]</code> to signal the end of text (this is the console’s “end of file” keystroke), and then the program produced the subsequent output.</p>
<p>Below is another run, but using a special feature of the console called <em>input redirection</em>. The <code>&lt;</code> tells the console to feed in the contents of the file <code>jabberwocky.txt</code> as if they are being typed in directly by the user. Here is that run:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ python3 stats.py &lt; jabberwocky.txt</span><br><span class="line">READING text from STDIN. Hit ctrl-d when done entering text.</span><br><span class="line">DONE.</span><br><span class="line">HERE are the word statistics of that text:</span><br><span class="line"></span><br><span class="line">That text was 166 words in length.</span><br><span class="line"></span><br><span class="line">There are 90 distinct words used in that text.</span><br><span class="line"></span><br><span class="line">The top 10 ranked words (with their frequencies) are:</span><br><span class="line">1. the:19, 2. and:14, 3. he:7, 4. in:6, 5. through:3, 6. my:3, 7. ja</span><br><span class="line">bberwock:3, 8. went:2, 9. two:2, 10. one:2</span><br><span class="line"></span><br><span class="line">Among its 90 words, 55 of them appear exactly once.</span><br></pre></td></tr></table></figure>

<p>This text file contains Lewis Carroll’s somewhat gibberish-y poem <em>Jabberwocky</em> and has lots of used-once words. There are several used twice, and the code just happens to report a few of these, including the word “<em>went</em>.”</p>
<p>As you use the code and make it work, you’ll notice that the code considers “stop punctuation”— the marks <code>.</code>, <code>!</code>, and <code>?</code> specially.  This will be useful for text synthesis, later. It ignores other punctiation marks except for the contraction mark <code>&#39;</code>, which it considers a letter of a word. It treats all letters as their lowercase.  It currently fails to properly process accented letters, ignoring them and only paying attention to <code>a</code> through <code>z</code>, <code>A</code> through <code>Z</code>.</p>
<p>For shorter entries (fewer than 10 words), it only reports a most frequent word. For medium (fewer than 100), it only reports the top 10. For longer texts, it reports the top 100. Here is an example of it processing the full text of an English translation of Gabriel García Márquez’s <em>One Hundred Years of Solitude</em>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ python3 stats.py &lt; hundred_years.txt</span><br><span class="line">READING text from STDIN. Hit ctrl-d when done entering text.</span><br><span class="line">DONE.</span><br><span class="line">HERE are the word statistics of that text:</span><br><span class="line"></span><br><span class="line">That text was 146763 words in length.</span><br><span class="line"></span><br><span class="line">There are 10659 distinct words used in that text.</span><br><span class="line"></span><br><span class="line">The top 100 ranked words (with their frequencies) are:</span><br><span class="line">1. the:10927, 2. of:5255, 3. and:4202, 4. to:3685, 5. a:3188, 6. tha</span><br><span class="line">t:3171, 7. in:3040, 8. he:2728, 9. was:2370, 10. had:2175, 11. her:2</span><br><span class="line">046, 12. with:2018, 13. she:1984, 14. his:1886, 15. on:1158, 16. him</span><br><span class="line">:1127, 17. not:1090, 18. it:1077, 19. for:1050, 20. they:963, 21. as</span><br><span class="line">:877, 22. one:812, 23. by:806, 24. would:792, 25. at:779, 26. aureli</span><br><span class="line">ano:766, 27. but:746, 28. who:674, 29. when:670, 30. were:666, 31. f</span><br><span class="line">rom:597, 32. so:564, 33. time:546, 34. an:503, 35. them:477, 36. did</span><br><span class="line">:471, 37. arcadio:466, 38. ursula:459, 39. jose:439, 40. up:436, 41.</span><br><span class="line">which:423, 42. house:418, 43. been:414, 44. out:399, 45. their:386,</span><br><span class="line">46. only:372, 47. year s:371, 48. be:370, 49. because:356, 50. all:3</span><br><span class="line">49, 51. into:342, 52. buendia:333, 53. could:330, 54. about:322, 55.</span><br><span class="line"> no:320, 56. have:317, 57. colonel:308, 58. more:301, 59. said:298,</span><br><span class="line">60. amaranta:289, 61. segundo:284, 62. then:265, 63. where:264, 64.</span><br><span class="line">even:263, 65. like:252, 66. solitude:250, 67. without:249, 68. hundr</span><br><span class="line">ed:245, 69. there:235, 70. put:235, 71. went:228, 72. first:228, 73.</span><br><span class="line"> if:224, 74. gabriel:216, 75. made:209, 76. room:208, 77. over:207,</span><br><span class="line">78. garcia:206, 79. any:205, 80. until:204, 81. after:203, 82. you:2</span><br><span class="line">03, 83. x:202, 84. took:201, 85. marques:201, 86. before:194, 87. th</span><br><span class="line">an:192, 88. through:191, 89. what:188, 90. fernanda:187, 91. two:187</span><br><span class="line">, 92. same:186, 93. other:186, 94. macondo:175, 95. night:172, 96. b</span><br><span class="line">ack:172, 97. man:172, 98. its:170, 99. left:169, 100. day:166</span><br><span class="line"></span><br><span class="line">Among its 10659 words, 4486 of them appear exactly once.</span><br></pre></td></tr></table></figure>

<h2 id="Coding-stats-py"><a href="#Coding-stats-py" class="headerlink" title="Coding stats.py"></a>Coding <code>stats.py</code></h2><p>The starter code provided has a fully written script, but its code relies on several helper functions that have not been written.  Below I list each of these functions, giving descriptions of how each should behave. Work to complete each of these to get Part 1 working fully.</p>
<p>Many of these functions operate on either a list of strings that are words from the entered text, or else a dictionary that summarizes the number of occurrences of each word in the text. The dictionary stores the word frequencies of the text. We compute a list of the most frequently used words in the text, ordered from the most frequent to the least frequent, among those words.</p>
<p>To compute these summaries of the text, there is some pre-written code that simplifies the text that was entered. Words are made lowercase, some punctuation is removed, and most non-alphabetic characters are ignored. The exception is apostrophes, which are kept for contractions like <code>&quot;isn&#39;t&quot;</code> or <code>&quot;it&#39;s&quot;</code>. The other exception is punctuation that normally ends English sentences, namely <code>&quot;.&quot;</code>, <code>&quot;!&quot;</code>, and <code>&quot;?&quot;</code>. We refer to these as <em>stoppers</em> and a lot of the functions below sometimes ask you to treat these strings as part of a word list, but then treat them specially.</p>
<p>For example, consider this interaction:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python3 stats.py</span><br><span class="line">READING text from STDIN. Hit ctrl-d when done entering text.</span><br><span class="line">Well, hello there, Jim. *87&amp;#@* Hello!</span><br><span class="line">DONE.</span><br></pre></td></tr></table></figure>
<p>Processing that single line of text, the code creates the word list:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&quot;well&quot;, &quot;hello&quot;, &quot;there&quot;, &quot;jim&quot;, &quot;.&quot;, &quot;hello&quot;, &quot;!&quot;]</span><br></pre></td></tr></table></figure>
<p>The text is simplified to a list of lowercase words and the stopper punctuation marks. The word frequency summary of this text will be the dictionary:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;well&#x27;:1, &#x27;hello&#x27;:2, &#x27;there&#x27;:1, &#x27;jim&#x27;:1&#125;</span><br></pre></td></tr></table></figure>
<p>Finally, if we were to list the two most frequently occurring words in this text, ordered from most- to least-frequent, that could be the list</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;hello&#x27;, &#x27;there&#x27;]</span><br></pre></td></tr></table></figure>
<p>But because two other words have equal frequency to <code>&#39;there&#39;</code>, these two other lists would be equally valid</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;hello&#x27;, &#x27;well&#x27;]</span><br><span class="line">[&#x27;hello&#x27;, &#x27;jim&#x27;]</span><br></pre></td></tr></table></figure>
<p>The order is arbitrary, and depends on how the analysis happens to order words that occur the same number of times.</p>
<p>With this information in mind, below we list each of those functions you need to write to complete this part of the assignment.</p>
<h2 id="Write-wordFrequencies"><a href="#Write-wordFrequencies" class="headerlink" title="Write wordFrequencies"></a>Write <code>wordFrequencies</code></h2><p>Write a function <code>def wordFrequencies(wordList)</code> that takes a list of strings. These strings are all the words in the text, along with the stopper punctuation marks. The function should build and return the word frequencies dictionary summarizing the occurrences of words in the text.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; wf = wordFrequencies([&quot;hello&quot;, &quot;there&quot;, &quot;.&quot;, &quot;hello&quot;, &quot;!&quot;])</span><br><span class="line">&gt;&gt;&gt; wf</span><br><span class="line">&#123;&#x27;hello&#x27;:2, &#x27;there&#x27;:1&#125;</span><br></pre></td></tr></table></figure>

<p>The list of punctuation marks considered to end sentences is given by the script variable <code>STOPPERS</code> and defined at the very top of the <code>stats.py</code> script. These strings should not be counted and should not appear in the dictionary.</p>
<h2 id="Write-wordCount"><a href="#Write-wordCount" class="headerlink" title="Write wordCount"></a>Write <code>wordCount</code></h2><p>Write a function <code>def wordCount</code> that takes a word frequencies dictionary <code>freqs</code> as its only parameter. It should return <em>a pair</em> of integer values.  The first component of the pair should be the size of the whole text in number of words. The second component of the pair should be the number of <em>distinct</em> words used in the text. The first is often called the <em>word count</em> of the text. The second is often called the <em>vocabulary size</em> of the text.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; wf = wordFrequencies([&quot;hello&quot;, &quot;there&quot;, &quot;.&quot;, &quot;hello&quot;, &quot;!&quot;])</span><br><span class="line">&gt;&gt;&gt; count,vocabSize = wordCount(wf)</span><br><span class="line">&gt;&gt;&gt; print(count,vocabSize,sep=&quot;,&quot;)</span><br><span class="line">3,2</span><br></pre></td></tr></table></figure>

<p>This, I believe, is the first time in this semester’s material where we have introduced a Python pair.  Pairs are an easy concept to understand. They are like a list, except their components cannot be modified. For example:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; my_pair = (3,7)</span><br><span class="line">&gt;&gt;&gt; my_pair[0]</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; my_pair[1]</span><br><span class="line">7</span><br><span class="line">&gt;&gt;&gt; len(my_pair)</span><br><span class="line">2</span><br><span class="line">&gt;&gt;&gt; my_pair[0] = 4</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: &#x27;tuple&#x27; object does not support item assignment</span><br></pre></td></tr></table></figure>

<p>Python has a very convenient syntax for extracting the components of a pair. Instead of writing code like</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; my_pair = (3,7)</span><br><span class="line">&gt;&gt;&gt; first = my_pair[0]</span><br><span class="line">&gt;&gt;&gt; second = my_pair[1]</span><br><span class="line">&gt;&gt;&gt; print(first, second)</span><br><span class="line">3 7</span><br></pre></td></tr></table></figure>
<p>you can instead succinctly write</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; my_pair = (3,7)</span><br><span class="line">&gt;&gt;&gt; first, second = my_pair</span><br><span class="line">&gt;&gt;&gt; print(first, second)</span><br><span class="line">3 7</span><br></pre></td></tr></table></figure>

<p>This is a <em>mulitple assignment</em> or <em>multi-assignment</em> statement, and we are simultaneously assigning values to both <code>first</code> and <code>second</code> by extracting the information held in the pair <code>my_pair</code>.</p>
<p>Your <code>wordCount</code> function should return a pair.</p>
<h2 id="Write-topWordExcept"><a href="#Write-topWordExcept" class="headerlink" title="Write topWordExcept"></a>Write <code>topWordExcept</code></h2><p>Write a function <code>def topWordExcept(freqs,excluded)</code>. This takes a word frequencies dictionary <code>freqs</code> and a list of strings <code>excluded</code>.  The function should return a string that is the most frequently occurring word, but excluding the words that are in the list <code>excluded</code>.  (This code can be used to write the function <code>topWordsByFrequency</code> described just below.) If there are no words other than the ones in the excluded list, the function should return <code>None</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; wf = wordFrequencies([&quot;hello&quot;, &quot;there&quot;, &quot;.&quot;, &quot;hello&quot;, &quot;!&quot;])</span><br><span class="line">&gt;&gt;&gt; topWordExcept(wf,[])</span><br><span class="line">&#x27;hello&#x27;</span><br><span class="line">&gt;&gt;&gt; topWordExcept(wf,[&#x27;hello&#x27;])</span><br><span class="line">&#x27;there&#x27;</span><br><span class="line">&gt;&gt;&gt; print(topWordExcept(wf,[&#x27;hello&#x27;,&#x27;there&#x27;]))</span><br><span class="line">None</span><br></pre></td></tr></table></figure>

<h2 id="Write-topWordsByFrequency"><a href="#Write-topWordsByFrequency" class="headerlink" title="Write topWordsByFrequency"></a>Write <code>topWordsByFrequency</code></h2><p>Write a function <code>def topWordsByFrequency(freqs,howMany)</code> that takes a word frequencies dictionary <code>freqs</code> and an integer <code>howMany</code>. It should return a list of the most-frequent words in the text, according to the summary in <code>freqs</code>. The size of the list requested is given by <code>howMany</code>, and that parameter is assumed to be a non-negative integer.</p>
<p>Furthermore, the list returned should be organized so that the string at location 0 is a word that occurs the most, with the subsequent items in the list ordered by decreasing frequency.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; wf = wordFrequencies([&quot;hello&quot;, &quot;there&quot;, &quot;.&quot;, &quot;hello&quot;, &quot;!&quot;])</span><br><span class="line">&gt;&gt;&gt; topWordsByFrequeny(wf,1)</span><br><span class="line">[&#x27;hello&#x27;]</span><br><span class="line">&gt;&gt;&gt; topWordsByFrequency(wf,2)</span><br><span class="line">[&#x27;hello&#x27;, &#x27;there&#x27;]</span><br><span class="line">&gt;&gt;&gt; topWordsByFrequency(wf,0)</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<p>Note that there might be ties in word frequencies. Consider this use:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; wf = wordFrequencies([&quot;hello&quot;, &quot;there&quot;, &quot;goodbye&quot;, &quot;abe&quot;])</span><br><span class="line">&gt;&gt;&gt; twbf = topWordsByFrequency(wf,2)</span><br></pre></td></tr></table></figure>

<p>In the above, <code>twbf</code> could contain <code>hello</code> and <code>there</code>, or <code>hello</code> and <code>abe</code>, or <code>goodbye</code> and <code>there</code>, etc. Any two of those four words are the top two most-frequently occurring words.</p>
<h2 id="Write-rankedWordReport"><a href="#Write-rankedWordReport" class="headerlink" title="Write rankedWordReport"></a>Write <code>rankedWordReport</code></h2><p>In the reporting of the most frequently occurring words by <code>stats.py</code>, we rank the words, say, from 1 to 100 (if the text is long enough).  We use a function <code>rankedWordReport</code> to format that report.</p>
<p>Write the function <code>def rankedWordReport(ranking,topWordsList,freqs)</code>.  The first parameter <code>ranking</code> is a positive integer giving the rank of the word to report, The second parameter <code>topWordsList</code> is the most frequent words, a list of strings starting with the top ranked word, ordered by decreasing frequency. The third parameter <code>freqs</code> is the word frequencies dictionary. The function should return a string like below</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;1. the:1234&quot;</span><br></pre></td></tr></table></figure>

<p>The format of the string should be the ranking, followed by a period, followed by a space, followed by the word, followed by a colon character, followed by the number of occurrences of that word.  In that example, we see that the word “<em>the</em>“ occurred 1234 times.  This means that <code>topWordsList[0]</code> is “<em>the</em>“ and that <code>freqs[&quot;the&quot;]</code> equals <code>1234</code>.</p>
<h2 id="Write-numWordsWithFrequency"><a href="#Write-numWordsWithFrequency" class="headerlink" title="Write numWordsWithFrequency"></a>Write <code>numWordsWithFrequency</code></h2><p>Write a function <code>def numWordsWithFrequency(freqDict,freq)</code> that takes a word frequencies dictionary <code>freqDict</code> and a positive integer <code>freq</code>. It should give a count of the nummber of words in <code>freqDict</code> whose occurrence count equals <code>freq</code>. For example a call with <code>freq</code> of <code>1</code> would tell you how many words are used only once in the text.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; wf = &#123;&#x27;well&#x27;:1, &#x27;hello&#x27;:2, &#x27;there&#x27;: 1, &#x27;jim&#x27;:1&#125;</span><br><span class="line">&gt;&gt;&gt; numberWordsWithFrequency(wf,1)</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h1 id="Text-synthesis-with-chats-py"><a href="#Text-synthesis-with-chats-py" class="headerlink" title="Text synthesis with chats.py"></a>Text synthesis with <code>chats.py</code></h1><p>The coding work described for <code>stats.py</code> pays attention to single word statistics in a text. Here, we instead consider runs of words in texts.  We process a text and pay attention to its <em>bigrams</em>, each consecutive pair of words in the text, and also its <em>trigrams</em>, each consecutive triple of words in the text.</p>
<p>Consider this excerpt from the <em>Odyssey</em>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;So I spake, and quickly they hearkened to my words. But of Scylla</span><br><span class="line">I told them nothing more, a bane none might deal with, lest haply</span><br><span class="line">my company should cease from rowing for fear, and hide them in the</span><br><span class="line">hold. In that same hour I suffered myself to forget the hard</span><br><span class="line">behest of Circe, in that she bade me in nowise be armed; but I did</span><br><span class="line">on my glorious harness and caught up two long lances in my hands,</span><br><span class="line">and went on the decking of the prow, for thence methought that</span><br><span class="line">Scylla of the rock would first be seen, who was to bring woe on my</span><br><span class="line">company. Yet could I not spy her anywhere, and my eyes waxed weary</span><br><span class="line">for gazing all about toward the darkness of the rock.&quot;</span><br></pre></td></tr></table></figure>
<p>We have the sequence of bigrams:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">so i</span><br><span class="line">i spake</span><br><span class="line">spake and</span><br><span class="line">and quickly</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>And we have the sequence of trigrams:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">so i spake</span><br><span class="line">i spake and</span><br><span class="line">spake and quickly</span><br><span class="line">and quickly they</span><br><span class="line">quickly they hearkened</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>Among the bigrams we see that several start with “<em>to</em>“, namely</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">to my</span><br><span class="line">to bring</span><br><span class="line">to forget</span><br></pre></td></tr></table></figure>
<p>And among the trigrams we see that two start with the bigram “<em>on my</em>“</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">on my glorious</span><br><span class="line">on my company</span><br></pre></td></tr></table></figure>

<p>We could say that the word “<em>to</em>“ has three <em>followers</em> in that excerpt: “<em>my</em>“, “<em>bring</em>“, and “<em>forget</em>“. We could also say that the bigram “<em>on my</em>“ has two followers “<em>glorious</em>“ and “<em>company</em>“.</p>
<p>If we examine a much larger text, then we can get a much richer collection of bigrams and trigrams. Furthermore, there will be a wealth of followers of words and bigrams.</p>
<p>Write the code for <code>chats.py</code>, a program that processes lines of text and builds a dictionary of bigram and trigram patterns it sees in that text. More specifically, each entry in that dictionary has as its search key either a word (like “<em>to</em>“) or a bigram (like “<em>on my</em>“). And then each key’s associated value is a <em>collection</em> of its followers. So, processing the text in the file <code>odyssey.txt</code> included in this folder, we’d get a dictionary that included these entries:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">to: the, Erebus, her, Scylla&#x27;s, mourn, my, forget, bring, ...</span><br><span class="line">on my: company, men</span><br></pre></td></tr></table></figure>

<p>In processing the text in this way, you should also pay attention to the stoppers. These are the punctuation marks “.”, “?”, and “!” that end English sentences and get treated as words by our code. Words that follow stoppers can be seen as possible starts to sentences.</p>
<p>When you process the text to register its bigrams and trigrams, we consider stoppers as participants in a bigram or trigram. This means, for example, that we will keep track of all words that follow a period mark “.” as a bigram entry. So, looking up “.” in our bigram&#x2F;trigram mdictionary of <code>odyssey.txt</code>, we have the entry</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.: for, and, not, her, up, thereby, verily, up, but, ...</span><br></pre></td></tr></table></figure>

<p>because these are the first words of all sentences following a period in that file. We furthermore, artificially treat the first line in any text as having followed a sentence ending with a period.  A file that starts with “<em>Lady Circe spoke unto me…</em>“ will instead have the dictionary entry</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.: lady, for, and, not, her, up, thereby, verily, up, but, ...</span><br></pre></td></tr></table></figure>

<p>We’d also see that, when “and” startsa sentence, that it is followed by several words. We have the trigram entry</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">. and: in, therein, thereon, looking, there, the, </span><br></pre></td></tr></table></figure>

<p>Once this dictionary of word followers and bigram followers is built, we now have a way of generating semi-gibberish! I’ll call this gibberish a <em>chat.</em></p>
<p>To start a chat, we pick a random word that’s a follower of “.” in our dictionary. Maybe that’s “<em>and</em>“. To pick the next word, we look up the bigram “<em>. and</em>“ in our dictionary, and pick one of its random followers. Maybe we choose “<em>in</em>“. And so then we work with the bigram “<em>and in</em>“ and see that it has the follower “<em>the</em>“. Continuing we see that “<em>in the</em>“ has a bunch of followers, so we pick one at random.  And so forth. This process might then give us this paragraph:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">and in the dread death struggle. as often as she belched it</span><br><span class="line">forth and thrice a day she sucks the water for thrice a day</span><br><span class="line">she sucks the water for thrice a day she sucks the water for</span><br><span class="line">thrice a day she sucks the water for thrice a day she sucks</span><br><span class="line">the water for thrice a day she sucks it down in terrible</span><br><span class="line">wise sucked down the salt sea water within she was all plain</span><br><span class="line">to see through her troubled deeps and overhead the spray</span><br><span class="line">fell on the decking of the sea. for on the other part are</span><br><span class="line">two rocks whereof the deep voiced amphitrite feeds countless</span><br><span class="line">flocks. not with an arrow across. but that other cliff</span><br><span class="line">odysseus thou shalt note lying lower hard by the first thou</span><br><span class="line">couldest send an arrow from a bow might a man whom she hath</span><br><span class="line">snatched from out the paths of the prow for thence methought</span><br><span class="line">that scylla of the cliff. yet could i not spy her anywhere</span><br><span class="line">and my eyes waxed weary for gazing all about toward the</span><br><span class="line">darkness of the rock for dolphins or sea dogs or whatso</span><br><span class="line">greater beast she may anywhere take whereof the one hand lay</span><br><span class="line">scylla and on the other part are two rocks whereof the one</span><br><span class="line">reaches with sharp peak to the wide heaven and a dark cloud</span><br><span class="line">encompasses it this never streams away and there is no clear</span><br><span class="line">air about the peak neither in summer nor in harvest tide.</span><br></pre></td></tr></table></figure>
<p>It’s not great, but it almost reads as something poignant!</p>
<p>Applying the same technique to a longer text, things may get <em>a little</em> better because the process has been trained on more data. Here’s a random result that comes from training such a process with <code>hundred_years.txt</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">aureliano segundo saw the starting point of her dense and</span><br><span class="line">prolonged silences that had turned him on the edge of town</span><br><span class="line">the pleasure of seeing us weep. somebody is coming he told</span><br><span class="line">him that for the first roll of sweaty papers from under the</span><br><span class="line">friendly eye of ursula&#x27;s knowing it or thinking about</span><br><span class="line">mauricio babilonia under the dark shapes of the anxious</span><br><span class="line">efforts of his hand. a broken down yellow train and that his</span><br><span class="line">wife who was not the impossibility of finding anyone to</span><br><span class="line">guess distances in the usual gothic letters to her that</span><br><span class="line">aureliano mentioned the matter was put under the mosquito</span><br><span class="line">netting that sleepwalker whom she could not succeed however</span><br><span class="line">in incorporating fernanda into the abyss of greatness. it</span><br><span class="line">was stuck to the heroism of his withdrawn self and made the</span><br><span class="line">earth i&#x27;ll convince you. then he came back from traveling</span><br><span class="line">around the room. suddenly during the months that at that</span><br><span class="line">time also stumbled and had been carried off to pray. colonel</span><br><span class="line">roque carnicero which meant butcher. was all he could wait</span><br><span class="line">as long as they got their peso and twenty five cents. they</span><br><span class="line">were rebeca s name bringing back the acidity of the latter</span><br><span class="line">elicited the whole group tried to cure with the saints will</span><br><span class="line">let me undergo the indignity of dying in the only thing that</span><br><span class="line">she will produce milk and biscuits and would bathe him bit</span><br><span class="line">by bit as he faced the firing squad could be heard</span><br><span class="line">chattering and singing at the door.</span><br></pre></td></tr></table></figure>

<p>In any case, write the code that processes a text and generates a chat using this random following word process. I’ve provided only a skeleton of that script within the starter code <code>chats.py</code>. That code reads in the text, line by line, and creates a word and stopper list of strings, just as we did for Part 1. Your job is to complete this code. It relies on you writing two functions <code>train</code> and <code>chat</code> as described below. The function <code>train</code> builds a digest of a text, summarizing what words tend to follow each bigram that occurs in the text.</p>
<p>Below we describe two different versions of <code>chats.py</code>.  The first version does not pay attention to the frequency of followers, and so makes a less accurate digest of the text. The second versions include follower frequency information in the digest, allowing a more statistically accurate generation of chatted text. This requires a slightly more sophisticated way of making a random word choice.  We detail all this below.</p>
<p>The second version is a bit more of a challenge and is a <strong>BONUS version</strong> of the assignment. Should you choose to write the second version, I encourage you to get the required first version working first.</p>
<h2 id="Coding-chats-py"><a href="#Coding-chats-py" class="headerlink" title="Coding chats.py"></a>Coding <code>chats.py</code></h2><p>Below I describe the two functions you need to write to complete Part 2, a function <code>train</code> that processes a text and a function <code>chat</code> that generates text from that training. Unlike Part 1, I don’t prescribe a bunch of smaller helper functions for you to write that get those two functions written. Nevertheless, I strongly encourage you to write the code in the form of several short functions that serve <code>train</code> and <code>chat</code>. I’m just giving you the chance to determine on your own what those helper functions should be.</p>
<h2 id="Write-train"><a href="#Write-train" class="headerlink" title="Write train"></a>Write <code>train</code></h2><p>Write the function <code>def train(wordList)</code> this is the Part 2 equivalent of the first part’s <code>wordFrequencies</code> function. It takes the list of words and stoppers in the text, as a list of strings. It should return a dictionary whose keys are either single words or bigrams. Each entry should represent all possible bigrams that start with that single word or all possible trigrams that start with that bigram. The data associated with each key in the dictionary should be that word’s&#x2F;bigram’s list of follower words. In the case of a bigram key, the string is just two words separated by a space.</p>
<p>In the above description, we consider stopper punctuation marks as keys or as parts of a bigram. The first word in the text should be considered a follower of all the stoppers. If the last word in the list is not a stopper, then it should have an entry with “.” as one of its followers.</p>
<p>If the text was something like “Hello, I must be going. Goodbye. Well hello again!” then the dictionary would have these listed entries:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&#x27;.&#x27;: [&#x27;hello&#x27;, &#x27;goodbye&#x27;, &#x27;well&#x27;],</span><br><span class="line">&#x27;!&#x27;: [&#x27;hello&#x27;],</span><br><span class="line">&#x27;?&#x27;: [&#x27;hello&#x27;],</span><br><span class="line">&#x27;hello&#x27;:[&#x27;i&#x27;, &#x27;again&#x27;],</span><br><span class="line">&#x27;i&#x27;:[&#x27;must&#x27;],</span><br><span class="line">&#x27;must&#x27;:[&#x27;be&#x27;],</span><br><span class="line">&#x27;be&#x27;:[&#x27;going&#x27;],</span><br><span class="line">&#x27;going&#x27;:[&#x27;.&#x27;],</span><br><span class="line">&#x27;goodbye&#x27;:[&#x27;.&#x27;],</span><br><span class="line">&#x27;well&#x27;:[&#x27;hello&#x27;],</span><br><span class="line">&#x27;again&#x27;:[&#x27;!&#x27;],</span><br><span class="line">&#x27;hello i&#x27;:[&#x27;must&#x27;],</span><br><span class="line">&#x27;i must&#x27;:[&#x27;be&#x27;],</span><br><span class="line">&#x27;must be&#x27;:[&#x27;going&#x27;],</span><br><span class="line">&#x27;be going&#x27;:[&#x27;.&#x27;],</span><br><span class="line">&#x27;. goodbye&#x27;:[&#x27;.&#x27;],</span><br><span class="line">&#x27;. well&#x27;:[&#x27;hello&#x27;],</span><br><span class="line">&#x27;well hello&#x27;:[&#x27;again&#x27;],</span><br><span class="line">&#x27;hello again&#x27;:[&#x27;!&#x27;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Note that the first 11 of these entries are “word followers”, describing bigrams in the text. The remaining entries are “bigram followers”, describing trigrams that occur in the text.  Note that there is no bigram entry for <code>again !</code>.</p>
<h2 id="Write-chat"><a href="#Write-chat" class="headerlink" title="Write chat"></a>Write <code>chat</code></h2><p>Write a procedure <code>def chat(biTriDict,lineWidth,numLines)</code> that takes the bigram&#x2F;trigram dictionary <code>biTriDict</code> as produced by <code>trainChat</code> along with some paramters for formatting the chatted text. The procedure should perform the random process described above to generate a random text (or “chat”) based on the training data.</p>
<p>To start a random chat, it should pick a random follower from the word entry for “.”. And then it should try to pick a follower from the bigram entry for “.” and that word. This leads to the first two words of the chat. Generating the next words continues in this way, by keeping track of the last two words that were generated. In summary:</p>
<ul>
<li>If the last two words are <code>w1</code> and <code>w2</code> (where either could be a stopper), pick a random follower from the list associated with that bigram. This would involve looking up the key <code>w1 + &quot; &quot; + w2</code> in the dictionary, and choosing a random word from that list.</li>
<li>If there is no entry for that bigram, or only one word was generated so far, pick a random follower from the list associated with the last word that was just generated.</li>
<li>If there is no entry for the last word, or if no words have been generated yet, pick a random follower from the list associated with the stopper “.”</li>
</ul>
<p>To generate a random choice, we’ve imported Python’s <code>random</code> package at the top of the file. You can have Python pick a random list element with <code>random.choice</code> like so:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; random.choice([&#x27;the&#x27;,&#x27;choice&#x27;,&#x27;is&#x27;,clear&#x27;])</span><br><span class="line">&#x27;is&#x27;</span><br></pre></td></tr></table></figure>

<p>The other two parameters <code>lineWidth</code> and <code>numLines</code> should be used to format the output of the chat. If the total number of characters (including spaces) generated on the current line of text of the chat has just exceeded <code>lineWidth</code>, then the next chatted word should appear on the next line. If we generate a stopper and the total number of lines with output so far with the chat has exceeded <code>numLines</code>, then we stop the chat generation process.</p>
<h1 id="BONUS-train-better-to-chat-better"><a href="#BONUS-train-better-to-chat-better" class="headerlink" title="BONUS: train better to chat better"></a>BONUS: train better to chat better</h1><p>The above functionality doesn’t quite give us what we want. It treats all followers as having equal possibility in the random text generation.  If there is a typical follower word of a bigram, one that appears a 100 times, and there is a rare follower of that same bigram, maybe occurring once, both are given equal weight by using <code>random.choice</code>.</p>
<p>To make this a little more concrete, suppose we processed the text of a large novel about a boy who runs, and runs well, but faces some struggles in becoming a good runner. Maybe he runs a bunch of races and, in one race he falls and gets hurt. He is so devastated that he quits the race and cries terribly over it. But the struggle is real, he rethinks his approach to running, overcomes some issues, and then just gets better and better.</p>
<p>Digesting this story with <code>train</code>, maybe the entry for the bigram <code>the boy</code> would be something like</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;the boy&#x27;:[&#x27;ran&#x27;,&#x27;fell&#x27;,&#x27;won&#x27;,&#x27;wept&#x27;,&#x27;ate&#x27;,&#x27;lost&#x27;, ...]</span><br></pre></td></tr></table></figure>

<p>But maybe he ran a lot, won a lot, and just fell and wept once.  The generated chat might then tell a tale of a voracious, despondent, clumsy running boy. This is because “wept” and “fell” would be just as likely as “ran” and “won”. This is interesting, maybe, but for certain texts this might lead top some haywire sentences becoming all too common.</p>
<p>Let’s enhance our dictionary to mimic the information we kept in Part 1 for the list of followers. Let’s have each possible following word <strong>keep a count</strong> of how many times it followed a word or a bigram.  Rather than having an entry tell us a list of followers, let’s instead have it be a list of each word along with a count.</p>
<p>If the trigram “the boy ran” appears 100 times, “the boy won” appeared 12 times, “the boy fell” twice, and “the boy wept” only once, then we want the entry to be like this</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;the boy&#x27;:[[&#x27;ran&#x27;,100],[&#x27;fell&#x27;,2],[&#x27;won&#x27;,12],[&#x27;wept&#x27;,1], ...]</span><br></pre></td></tr></table></figure>
<p>This digest has better information about the structure of the text.</p>
<h2 id="Write-trainBetter"><a href="#Write-trainBetter" class="headerlink" title="Write trainBetter"></a>Write <code>trainBetter</code></h2><p>Write a function <code>def trainBetter(wordList)</code> that builds and returns this improved dictionary. Change the main <code>chats,py</code> script to use it instead.</p>
<h2 id="Write-chatBetter"><a href="#Write-chatBetter" class="headerlink" title="Write chatBetter"></a>Write <code>chatBetter</code></h2><p>With this better text digest, we can probably now generate better random chats. Write a function <code>def chatBetter(biTriDict,lineWidth,numLines)</code> that assumes that <code>biTriDict</code> was built using <code>trainBetter</code>. The key change is that the call to choose the next word, something like</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nextWord = random.choice(biTriDict[w1 + &quot; &quot; + w2])</span><br></pre></td></tr></table></figure>

<p>needs to be changed to work with this frequency information.  Suppose that <code>w1</code> is <code>&quot;the&quot;</code> and <code>w2</code> is <code>&quot;boy&quot;</code>, and the entry for <code>&quot;the boy&quot;</code> is this info:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;the boy&#x27;:[[&#x27;ran&#x27;,100],[&#x27;fell&#x27;,2],[&#x27;won&#x27;,12],[&#x27;wept&#x27;,1]]</span><br></pre></td></tr></table></figure>

<p>Then, to choose a next word in a way that respects these frequencies we pick a random integer from 1 to 115. This can be done in Python with</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r = random.randint(1,115)</span><br><span class="line">print(r)     # Outputs some number from 1 to 115.</span><br></pre></td></tr></table></figure>

<p>If the random number chosen is one of 1..100, then we output “ran”. If it’s 101 or 102, then we output “fell”. If one of 103..114, then we output “won”. And, finally, if the random number Python chooses is 105, we output “wept”.</p>
<p>Once you’ve figured this out, Change the main <code>chats,py</code> script to use <code>chatBetter</code> instead.</p>
<h1 id="What-to-hand-in"><a href="#What-to-hand-in" class="headerlink" title="What to hand in"></a>What to hand in</h1><p>On Gradescope, there will be two problems named <code>[PJ2] stats</code> and <code>[PJ2] chats</code> where you can upload <code>stats.py</code> and <code>chats.py</code>, respectively. These will not be autograded, but we will use them to inspect and give feedback on your work.</p>
<p>In addition to submitting the code, I’d like you to <strong>include sample output</strong> for each of the sample <code>.txt</code> files included in this folder.  You can do that in a terminal by using <em>output redirection</em> but with the character <code>&gt;</code>. This is similar to input redirection with <code>&lt;</code>. If, for example, you type</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 stats.py &lt; sonnets.txt &gt; sonnets_stats.txt</span><br></pre></td></tr></table></figure>

<p>then you will get a file named <code>sonnets_stats.txt</code> that has the statistics generated by the run of <code>stats.py</code> on the file <code>sonnets.txt</code>. If instead you type</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 chats.py &lt; sonnets.txt &gt; sonnets_chats.txt</span><br></pre></td></tr></table></figure>

<p>then you will get a file of the random chat output by your <code>chats.py</code> program, and trained on the file <code>sonnets.txt</code>.</p>
<p>Gradescope will allow you to upload all these <code>.txt</code> files with your <code>.py</code> file.</p>
<p>If, also, you want to tell us a bit more about your work, and document any other files, quirks, problems, or output of you program, you can include a file named <code>README.txt</code> that documents these aspects of your project. Include that same <code>README.txt</code> file with both the <code>stats.py</code> submission and the <code>chats.py</code> submission.</p>
<p>So, in total, you should</p>
<ul>
<li>submit <code>stats.py</code> and sample output files <code>.txt</code> for Part 1</li>
<li>submit <code>chats.py</code> and sample output files <code>.txt</code> for Part 2, and</li>
<li>(optionally) submit a text file named <code>README.txt</code>.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/proj2/" data-id="clcv35ijm000qkxt0grwh15t7" data-title="Project 2 -- Stats/Chats" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-proj1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/proj1/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T06:58:24.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/proj1/">Project 1 -- The Game of Life and Image Processing</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Complete and submit by 2&#x2F;27 at 1:00pm</strong></p>
<p>This first project has you inventing a family of different <em>cellular automata</em>.  A cellular automata simulation is one that is applied to a two-dimensional grid of <em>cells</em>, where each cell stores an integer value, the cell’s <em>state</em>. With each tick of the simulation’s clock, the grid of cells update their state value by applying a simple rule. The rule specifies how it should calculate its next state from its previous state. This calculation is a <em>local</em> one. A cell changes according to its own state and the state of its immediate neighbor cells in the grid.</p>
<p>Despite this simplicity, the grid’s entire state can evolve in very interesting ways over time. You can, for example, devise calculation rules that perform image and shape analysis of the grid’s initial state pattern.</p>
<h2 id="Set-Up"><a href="#Set-Up" class="headerlink" title="Set Up"></a>Set Up</h2><p>Download the project’s source code as a ZIP package using the link below:</p>
<p>• <a href="project1.zip"><strong>Project 1</strong> package</a></p>
<p>Have it unpack as a folder named <code>project1</code>, say, within your <code>Desktop</code> folder. In that project folder, you will see a number of <code>.py</code> source files for the Python program that you will be working with. To run the program, bring up terminal console and type the commands</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Desktop/project1</span><br><span class="line">python3 life.py</span><br></pre></td></tr></table></figure>

<p>If everything is set-up correctly with Python, the program will bring up a window that shows a grid of cells. On some installations or on some systems, you will get an error, something like the following</p>
<p><img src="/121-S23/images/no-tk.jpg"></p>
<p>In these situations, Python is complaining that you are missing a needed Python module called <code>tkinter</code>. This module helps us create a window, draw shapes in that window, and allow the user to click on that window.  To fix this situation for your Python set-up, you can enter the console command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install tkinter</span><br></pre></td></tr></table></figure>

<p>Having done this, the command <code>python3 life.py</code> should be able to open a window and show the program’s grid of cells.</p>
<p>In addition to the displayed grid of cells, there is a color bar shown at the top. The program is prepared to execute the rules of the mathematician John Conway’s cellular automata, one he called “The Game of Life”. If you select one of the colors in the color bar, you can then paint that color onto the cells of the grid. Having done that painting, you can run the Game of life simulation by hitting <code>[SPACE]</code> a few times.  This will change the pattern of colored cells, and how that grid changes is described just below.</p>
<p>In any case, congratuations! You have created life. Read on. </p>
<h1 id="Conway’s-Game-of-Life"><a href="#Conway’s-Game-of-Life" class="headerlink" title="Conway’s Game of Life"></a>Conway’s Game of Life</h1><p><img src="/121-S23/images/life-grid.jpg" alt="A view of the Project 1 window."></p>
<p>The Game of Life is not actually a game at all, not in the usual sense. It is at most a game played by one person, there’s no strategy, and the rules don’t offer a player any choices like a normal game would. Rather, the Game of Life is a simulation of an artificial world, the world of the grid, governed by a very simple mathematical rule. An execution of the Game of Life consists of setting up the initial state of the world and then applying the rule to determine the next state of the world (the next “generation”). By successively applying this rule to the world, computing its state from one generation to the next, some interesting behavior arises.</p>
<p>In the Game of Life, the world is a grid of cells like you see in the Python program’s display. Each cell has a state associated with it. In the original Game of Life, the state of a cell could either be “living” or “dead”. In this version, the state of a cell is an integer ranging from 0 to 100.</p>
<p>Feel free to paint on the grid with the mouse using the currently selected color. White is 100. Violet through red is 99 through 1. We say that any such cell, one with a state value from 1 to 100, is “living”. Cells that are black have the state value of 0. We say that these cells are “dead”.</p>
<p>Once you’ve set up the initial state of the world, painting cells as living, you can then run a step of Conway’s game, changing the grid’s cells’ state. Hit the <em>[SPACE]</em> bar on the keyboard once. Some live cells stay alive and others die. Some dead cells come alive. Hit the space bar again to see the next generation of cells. And again.</p>
<p>The rule for how the grid changes is deterministic. The next generation’s pattern of living and dead cells is entirely determined by the prior generation’s pattern, The calculation for determining which cells live, and which cells die, is simple. With each step a cell counts the number of living cells in the eight cells immediately surrounding it. In the case where a cell is alive, it remains alive in the next generation if it has two or three living neighbors. Otherwise it dies. If instead a cell is dead, it will be come alive with a step if it has 3 living neighbors. Otherwise it remains dead.</p>
<p>Try some simple patterns out to test these rules. A good one to try is a row of three live cells surrounded by dead cells. This is a “blinker.” It cycles between two states—a horizontal strip of three, and a vertical strip of three. Another simple one is a 2x2 square called a pod. There are also gliders, spinners, clocks, loaves, hives, spaceships, …</p>
<p>There has been tremendous effort in studying Conway’s Game of Life, and a number of rich discoveries have been made. The <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Wikipedia article</a> for it serves as a decent starting point, should you want to learn more about it, and it is a good introduction to cellular automata in general.</p>
<h1 id="The-Python-Code"><a href="#The-Python-Code" class="headerlink" title="The Python Code"></a>The Python Code</h1><p>The code for the program is made up of three parts. There is <code>life.py</code>, which runs the main program, but it is pretty minimal. It relies almost entirely on <code>Grid.py</code>, which describes the program’s display of, and the user’s possible interaction with, the grid of cells. This is a fairly large Python file that you won’t need to understand to complete this assignment (though do feel free to look at it). Instead, you will be extending the code in the file <code>rules.py</code>. This contains a description of grid rules that can be used to run the program. For example, it contains the definition of a function <code>conway</code> that exactly describes Conway’s cell rule. Take a moment to look at this file, find the <code>conway</code> function, and then see how it implements the cellular behavior.</p>
<p>Each time that you press the space bar, this function gets executed once for each cell in the world.</p>
<p>Hopefully, you’ve noticed a few things when inspecting this code. First off, <code>conway</code> is a function whose sole responsibility is to return an integer value that represents the next state of the cell it’s working with at that moment. In order to compute the cell’s next state, it has access to the current state of the cell (the parameter <code>cntr</code>) and the current state of that cell’s eight immediate neighbors (the parameter <code>nbrs</code>). That second parameter is an object that consists of those eight state values. They are accessible with <code>nbrs.N</code>, <code>nbrs.NE</code>, <code>nbrs.E</code>, and so on. With these values and some additional calculations and logic, the value of the next state of a cell is computed and returned.</p>
<h1 id="Image-Processing"><a href="#Image-Processing" class="headerlink" title="Image Processing"></a>Image Processing</h1><p><img src="/121-S23/images/reed-grid.jpg"></p>
<p>Instead of simulating life, it’s possible to come up with all sorts of rules for computing the states of cells based on their previous states. One of the more useful application areas is image processing. In image processing, you take the digital version of a photo and manipulate it, either to enhance it’s quality, mess with it, analyze it, etc. Many of the techniques for modifying an image can be performed by local pixel rules, where you compute the tone of a pixel based on the tone values of it and its neighboring pixels). Blurring and sharpening an image are two classic examples of this.</p>
<p>To play with this feature in the program, quit the simulation demo by pressing the <code>q</code> key. We can instead run a grid simulation within the python interpreter. To do so, type the following:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from Grid import Grid</span><br><span class="line">&gt;&gt;&gt; from rules import *</span><br><span class="line">&gt;&gt;&gt; Grid(negative,pattern=&#x27;images/reed-square.pgm&#x27;)</span><br></pre></td></tr></table></figure>

<p>The program runs with a finer grid whose cells are loaded with the pixels of a greyscale image of Eliot Hall. In this mode, black has the value 0, white has the value 255, and greys have in-between values.</p>
<p>This also sets up the <code>negative</code> rule for the grid’s cells, rather than the <code>conway</code> rule. This rule makes the picture appear as its negative’s image. It is a very simple rule. With one tap of the space bar, the new value of a pixel 255 minus its prior value. You can find this rule as the function <code>negative</code> in <code>rules.py</code>.</p>
<p>Another good rule to try is <code>blur</code>. This computes a weighted average of each cell’s four compass-point neighbors <code>nbrs.N</code>, <code>nbrs.E</code>, <code>nbrs.S</code>, and <code>nbrs.W</code>. Hit ‘q’ to end the <code>negative</code> simulation and then, still within Python, type</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; Grid(blur,pattern=&#x27;images/reed.pgm&#x27;)</span><br></pre></td></tr></table></figure>

<p>This loads a larger, rectangular image of Eliot Hall.</p>
<p>With the <code>blur</code> rule each cell computes a weighted average of its four compass-point neighbors. The next state of the cell is just the average of itself and the average of its four neighbors. The effect is a smoothing of the details of the image, giving them softer transitions from light to dark. After a few steps, we get a blurred image, as if the camera used was not in focus.</p>
<h1 id="Making-New-Rules"><a href="#Making-New-Rules" class="headerlink" title="Making New Rules"></a>Making New Rules</h1><p>You can add your own cell rules to the program. Just create a new function definition to <code>rules.py</code>, mimicking my examples.  A rule is a function that takes the center cell value <code>cntr</code> and the 8 neighboring cell values as an object <code>nbrs</code>. Using these parameters on the color grid it returns an integer from 0 to 100. The <code>Grid</code> and other support programs can call this function to compute that rule’s behavior on the grid. If it is instead acting on the greys of the sample images, then it should return an integer from 0 to 255. You can run the grid program on the image, specify your new image rule, and then apply its effect.</p>
<p>The goal of this assignment is for you to write the code for <strong>eight</strong> functions like <code>conway</code> and <code>blur</code> There is a menu of suggestions at the end of this assignment description that specify what those rules should be.  The menu of possible rules you can construct is fairly rich.  It is surprising what can be done with just a little bit of clever coding.</p>
<h1 id="The-Assignment"><a href="#The-Assignment" class="headerlink" title="The Assignment"></a>The Assignment</h1><p>In the file <code>rules.py</code>, devise a series of cellular automata and image processing rules. You are to write eight rules, six from the required list below, and the remaining two of your choosing. You should do the required six first, and quickly, so that you gain experience with how the cellular automata rules work. Then make your two “programmer’s choice” behaviors directed and interesting. I’ll give you some suggestions in lecture and in lab for what other rules are possible.</p>
<p>In a new file named <code>demo.py</code> devise a demonstration of your eight rules similar to my demonstration code in <code>life.py</code>. Your description should give us a brief sense of what rule we are seeing, and how to set up and run your demonstration, if need be. We describe making demos further below.</p>
<p>Beyond the coding above, you should have ample and useful comments in your <code>rules.py</code> file that describe each function definition at an appropriate level of detail. Same goes for each of the <code>Grid</code> calls in <code>demo.py</code>.</p>
<p>You will be graded on the quality and correctness of your code, the intricacy of your rules, and on the clarity of your descriptions and comments.</p>
<h1 id="Menu-of-Required-Rules"><a href="#Menu-of-Required-Rules" class="headerlink" title="Menu of Required Rules"></a>Menu of Required Rules</h1><p>Below we give three categories of prescribed rules. You are to implement two rules from each category. And then there is a fourth “Programmer’s Choice” category where you have the option of inventing your own rules to make into Python code that runs on the grid.  You are to implement two of these in addition to the six prescribed ones.  This should lead you to writing eight different rules.</p>
<h2 id="Life-Rules"><a href="#Life-Rules" class="headerlink" title="Life Rules."></a><strong>Life Rules.</strong></h2><p><em>Pick two grid simulation rules and implement them.</em></p>
<p>Implement two of the life-like behaviors below. In some cases, it’s more natural to consider a cell as having only four neighbors, to the <code>N</code>, <code>E</code>, <code>S</code>, and <code>W</code>, rather than the full eight.</p>
<ol>
<li><p>Have the color of the cell represent its age.  Perhaps have it die at 100.</p>
</li>
<li><p>Have live cells be white, and have dead cells leave a color trace that “decays” from violet to red, then finally to black. The decay happens with each successive step of the simulation. The trace should not affect the white cells’ life simulation.</p>
</li>
<li><p>Have the grid instead simulate a <em>sandpile automata</em>. In a sandpile, the state of a cell gives the height of a “pile of sand grains” sitting on that cell. With each step, a cell “fires” if it has four or more grains of sand on it. When it fires, it gives one grain of sand to each of its four compass point neighbors—one to the north, one to the east, one to the south, and one to the west. Its own pile drops by four grains as a result.</p>
</li>
</ol>
<p>For option #3 just above, <a target="_blank" rel="noopener" href="https://people.reed.edu/~davidp/">Dave Perkinson’s</a> sandpile pages cover a number of aspects of this kind of system, and the <a target="_blank" rel="noopener" href="https://people.reed.edu/~davidp/divisors_and_sandpiles/">mathematics</a> that relates to its study. He has a <a target="_blank" rel="noopener" href="https://people.reed.edu/~davidp/grant/">web simulation</a> that you can run. When it loads click on the <em>Go</em> button just right of the <code>n Grains Each Cell</code> line and you’ll see the simulation’s behavior.  A good demo of this involves placing a ton of grains of sands in the center cell and watching that tall pile topple and spread to the other cells.</p>
<p>Note that our above description of sandpile behavior does not quite line up with how the grid rules are devised. In the description a cell fires by adding grains to its neighbors. In our rule system, however, a cell’s rule only has control over its own cell, and not over the neighboring cells that it reasons about. This means that the sandpile rule function, in our simulation, will have to look at its four neighbors to see whether their grain heights will lead them to fire. It then determines its own height based on their firing.</p>
<h2 id="Imaging"><a href="#Imaging" class="headerlink" title="Imaging."></a><strong>Imaging.</strong></h2><p><em>Pick two image processing rules and implement them.</em></p>
<ol>
<li><p>Increase or decrease the contrast of an image. Like the negative rule, this does not examine the neighboring pixels. Instead, a cell goes darker in a step when its brightness is below middle grey. It goes lighter in a step when its brightness is above middle grey.</p>
</li>
<li><p>Sharpen the image with each step. This is similar to blur, surprisingly. In a blur, a cell takes on a value closer to the average of its neighbors. In a sharpening, a cell takes on a value that differentiates it from the average of its neighbors. This has the global effect of bringing out details, since differences between neighboring pixels get amplified.</p>
</li>
<li><p>Find edges in an image (places where there is a transition from dark to light). Here, in one step, cells should, say, turn white if they are at such a transition. They should turn black if not. Alternatively, they could be bright grey if they are at a major transition, and draker grey if they are at a minor transition.</p>
</li>
</ol>
<h2 id="Shapes"><a href="#Shapes" class="headerlink" title="Shapes."></a><strong>Shapes.</strong></h2><p><em>Pick two shape processing rules and implement them.</em></p>
<ol>
<li><p>With the grid in color mode, starting with a pattern where the cells are mostly black, but with white cells forming a boundary of a region and a single cell of a color somewhere in the middle of that region. With simulation steps, have a rule that leads the color to fill the whole interior of that region, but not leak out.</p>
</li>
<li><p>In a grid where the cells are mostly black, but with some forming a pattern (or shape) in white. In one step, this rule should make a shadow of the image of white pixels, “underneath” them, in another color, to their SE.</p>
</li>
<li><p>In a grid that is mostly black, except with a blob of pixels that are white somewhere in the middle, have a rule that, after a few steps, ends up drawing a colored rectangle whose width and height is that of the white blob, with that white blob sitting inside.</p>
</li>
</ol>
<h2 id="Programmer’s-choice"><a href="#Programmer’s-choice" class="headerlink" title="Programmer’s choice."></a><strong>Programmer’s choice.</strong></h2><p><em>Devise two more rules.</em></p>
<p>These can be of your own choosing. Ideally, these should be nontrivial and interesting. They could come from the lists above, or be of some other design. Include a clear description of what each does, or at least what you intended each to do.</p>
<h1 id="Making-a-Demo"><a href="#Making-a-Demo" class="headerlink" title="Making a Demo"></a>Making a Demo</h1><p>Having written the eight rules, you must also construct a demonstration of them inside a file named <code>demo.py</code>. To see what this demo code should look like, please examine the provided <code>life.py</code>. Your demo file should be a script that runs each of the eight rules, one by one, to demonstrate each. This coding is similar to the interactions above. After the <code>import</code> section of the code, you’ll make eight different calls to <code>Grid</code>.  This will be something like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Grid(sandpile,<span class="string">&#x27;1. This runs a sanpile simulation.&#x27;</span>,</span><br><span class="line">     pattern=<span class="string">&#x27;patterns/sandpile10x10.pat&#x27;</span>)</span><br><span class="line"></span><br><span class="line">Grid(aging,<span class="string">&#x27;2. This runs an &quot;aging&quot; version of Conway.&#x27;</span>,</span><br><span class="line">     pattern=<span class="string">&#x27;patterns/glider.pat&#x27;</span>,</span><br><span class="line">     generations=<span class="number">64</span>)</span><br><span class="line"></span><br><span class="line">Grid(blur,<span class="string">&#x27;3. This blurs an image.&#x27;</span>,</span><br><span class="line">     pattern=<span class="string">&#x27;images/reed.pgm&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">Grid(maze,<span class="string">&#x27;8. This generates a maze from the white dot.&#x27;</span>,</span><br><span class="line">     pattern=<span class="string">&#x27;dot.pat&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>These lines each specify their rule of their demo, give a description, and give a starting pattern. On our end, we’ll run your demo to see your work and we’ll use your description to understand what we’re seeing.  Your descriptions can give us instructions for how to set things up and details of what we are about to see. We’ll be running this demo while inspecting your rules’ code.</p>
<p>You can create your own pattern files, similar to our <code>patterns/rpenatmino.pat</code> and other files. If you look at those samples in the <code>patterns</code> folder, you’ll find that they are just text files that can be edited by the same editor you use to edit Python programs. They each start with similar top lines:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">16 16</span><br><span class="line">100</span><br><span class="line">0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 </span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>The first line gives the number of columns (the width of the pattern) and the number of rows (the height of the pattern). The second line gives the range of color values which, in the case of this example, is 0 to 100. The remaining lines give the contents of each row of the pattern. In this case there are 15 rows each with 16 values from 0 to 100.</p>
<p>To help you use richer patterns for your demos, we’ve included a <strong>“Save pattern…”</strong> feature in the simulation. If you hit the <code>s</code> key, click on the console window, and then enter a pattern file name within the console, the simulation will save the currently displayed cell pattern as a text file that can then by loaded by a demo.</p>
<p>The simulation user can also paint cells while <code>Grid</code> runs in demo mode. This allows your demo to instruct the user how to set up the demo by painting. Since the demo doesn’t display the color selection palette, a user can instead type the digits of a cell value, followed by <code>&quot;=&quot;</code>, to choose a particular value for painting.</p>
<p>You can use earlier demo rules to set up a pattern that later rule demos can load. If you include a <code>save_as</code> parameter in an earlier call to <code>Grid</code>, then the cell pattern of the grid will be saved to that file’s name when the user hits <code>&quot;q&quot;</code>. For example, here is a demo that uses a <code>maze</code> rule to set up a maze pattern that can be used as the initial conditions for a subsequent demo of <code>robot</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Grid(maze,</span><br><span class="line">     <span class="string">&#x27;This builds a maze from a single white square.&#x27;</span>,</span><br><span class="line">     pattern=<span class="string">&#x27;patterns/dot.pat&#x27;</span>,</span><br><span class="line">     save_as=<span class="string">&#x27;patterns/maze.pat&#x27;</span>)</span><br><span class="line"></span><br><span class="line">Grid(robot,</span><br><span class="line">     <span class="string">&#x27;Place a robot cell of 40 in the maze. It runs around.&#x27;</span>,</span><br><span class="line">      pattern=<span class="string">&#x27;patterns/maze.pat&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>For image demonstrations, it is okay to just use the two image files provided, for example, <code>images/reed-square.pgm</code>. It is also possible to invent your own images. Ther are in <em>portable grey map</em> or <em>PGM</em> format. This isn’t a very used format— web images are usually <em>JPG</em> or <em>GIF</em> format— but it is an easy format to work with when writing programs. Below gives the start of the square image of Eliot Hall:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">P2</span><br><span class="line">#.</span><br><span class="line">128 128</span><br><span class="line">255</span><br><span class="line"> 17  18  19  20  18 ...</span><br></pre></td></tr></table></figure>

<p>The first two lines should always be there. The next line gives the dimensions the same as we you need for <code>.pat</code> files. The next line gives the value of pure white. And then the subsequent lines give the value of each pixel.</p>
<p>If you like, you can convert your own images to PGM format.  A program that can do this for you is called <a target="_blank" rel="noopener" href="https://www.gimp.org/">GIMP</a> produced by the <strong>Gnu</strong> free software foundation group.</p>
<h1 id="What-to-Hand-In"><a href="#What-to-Hand-In" class="headerlink" title="What to Hand In"></a>What to Hand In</h1><p>The two files that you will be editing for this project are <code>rules.py</code> and <code>demo.py</code>. Some of you might also have created pattern and image files in the folders <code>patterns</code> and <code>images</code> folders to support your demo.</p>
<p>I’d like you to <strong>submit the entire project folder</strong> as a <em>compressed ZIP file</em> onto Gradescope. To do this, you need to right click on your <code>project1</code> folder. On Windows, you can also click and hold; on the Mac you can hit the <code>[control]</code> key while clicking.  In both systems, this clicking should bring up a menu item that allows you to “compress” your project folder.</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://support.microsoft.com/en-us/windows/zip-and-unzip-files-8d28fa72-f2f9-712f-67df-f80cf89fd4e5">Instructions for compressing on Windows</a>  </li>
<li><a target="_blank" rel="noopener" href="https://support.apple.com/guide/mac-help/zip-and-unzip-files-and-folders-on-mac-mchlp2528/mac">Instructions for compressing on a Mac</a></li>
</ul>
<p>Having done this, a compressed <code>project1.ZIP</code> file or <code>project1.zip</code> file will get created in the same folder that contains <code>project1</code>.</p>
<p>Upload this ZIP file onto Gradescope. It will unpack into all the files for us to inspect. This will also allow us to download and run your demo.</p>
<p>Each rule’s function definition in <code>rules.py</code> should have a tasteful amount of comments explaining the code that makes up the rule.  You will be graded on these (brief) explanations of your rule’s code and logic. You will be graded on your description of your two programmer’s choice rules. You will also be graded on the quality (the “style”) of your code. The clearer the code, the better.</p>
<p>Your <code>demo.py</code> should contain a runnable demo, with at least one demo (a call of <code>Grid</code>) for each of your eight rules.  Each demo should have a short, readable description displayed during the demo. You should include extra information about what’s being demonstrated within a code comment near the <code>Grid</code> call in <code>demo.py</code>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/proj1/" data-id="clcv35ijl000mkxt0cciz1jb1" data-title="Project 1 -- The Game of Life and Image Processing" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hw11" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/hw11/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T06:39:07.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/hw11/">Homework 11 -- Searching and sorting</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Complete and submit by 4&#x2F;28 at 1:00pm</strong></p>
<p><strong>Note the due date for this assignment.</strong></p>
<h3 id="Part-1-Search-trees"><a href="#Part-1-Search-trees" class="headerlink" title="Part 1: Search trees"></a>Part 1: Search trees</h3><p>For the first two problems below, you are to enhance a class definition of a binary search tree. We’ve provided <a href="BSTree.py"><strong>starting source code</strong></a> for you to download. It contains the definition of a <code>BSTNode</code> class that describes the nodes that make up the structure of a binary search tree. Each such node <code>n</code> has an <code>n.key</code> and an <code>n.value</code>, the two components that serve as an item for a dictionary data structure. It also has two references <code>n.left</code> and <code>n.right</code> that may link to other nodes in the tree or, like a linked list, might have the value <code>None</code>.</p>
<p>The file also contains a definition of a <code>BSTree</code> class that is a binary search tree implementation of an <em>ordered</em> dictionary as described in lecture. A binary search tree object <code>t</code> has a single attribute <code>t.root</code> that refers to the root node of the tree, an object of type <code>BSTnode</code>.  Included in that class are definitions of methods for inserting and updating entries in the dictionary (<code>set_value</code>), looking up dictionary items’ values by their key (<code>get_value</code>), computing the number of entries in the dictionary (<code>size</code>), finding the minimum-valued key (<code>min_key</code>), and gathering all the entries into a list (<code>as_list</code>).  These should be familiar to you as you saw similar code in lecture.</p>
<p>Below we ask you add four methods to the <code>BSTree</code> class. In all our examples illustrating how they are to work, you can assume we’ve typed the following into Python:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; t1 = BSTree()</span><br><span class="line">&gt;&gt;&gt; t1</span><br><span class="line">&#123;&#125;</span><br><span class="line">&gt;&gt;&gt; t2 = BSTree()</span><br><span class="line">&gt;&gt;&gt; t2.set_value(&quot;carlos&quot;, 17)</span><br><span class="line">&gt;&gt;&gt; t2.set_value(&quot;anna&quot;, 31)</span><br><span class="line">&gt;&gt;&gt; t2.set_value(&quot;ben&quot;, 90)</span><br><span class="line">&gt;&gt;&gt; t2.set_value(&quot;abe&quot;, 5)</span><br><span class="line">&gt;&gt;&gt; t2.set_value(&quot;angel&quot;, 14)</span><br><span class="line">&gt;&gt;&gt; t2.set_value(&quot;davide&quot;, 89)</span><br><span class="line">&gt;&gt;&gt; t2</span><br><span class="line">&#123;&#x27;abe&#x27;: 5, &#x27;angel&#x27;: 14, &#x27;anna&#x27;: 31, &#x27;ben&#x27;: 90, &#x27;carlos&#x27;: 17, &#x27;davide&#x27;: 89&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Part-2-Sorting"><a href="#Part-2-Sorting" class="headerlink" title="Part 2: Sorting"></a>Part 2: Sorting</h3><p>The last two problems ask you to write two classic sorting algorithms, selection sort and count sort. The autograder for each will determine whether the code you submit sorts, but it can’t check whether you’ve used the requested sorting strategy. We will go through and verify that your code is correctly written to our specification to determine your final grade for these two problems.</p>
<p>You can inspect our lecture code for sorting at <a href="sorts.py"><strong>this link</strong></a>.</p>
<h1 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h1><h2 id="HW11-P1-search-path"><a href="#HW11-P1-search-path" class="headerlink" title="[HW11 P1] search path"></a><code>[HW11 P1]</code> search path</h2><p>Write a method <code>def search_path(self, k)</code> that takes a key <code>k</code> of an entry that may or may not be in the dictionary. Like <code>get_value</code>, it should search through the tree looking for that key. It should return a list of strings describing the path taken from the root node to search for that key, a series of <code>&quot;L&quot;</code> and <code>&quot;R&quot;</code>. If the key is in the tree, then the list returned describes where in the tree that key’s node sits.  If the key is not in the tree, then the list returned describes where in the tree that key’s node would be placed were it to be inserted into the tree.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; d = t2.search_path(&quot;davide&quot;)</span><br><span class="line">&gt;&gt;&gt; d</span><br><span class="line">[&#x27;R&#x27;]</span><br><span class="line">&gt;&gt;&gt; b = t2.search_path(&quot;ben&quot;)</span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">[&#x27;L&#x27;, &#x27;R&#x27;]</span><br><span class="line">&gt;&gt;&gt; t2.search_path(&quot;bao&quot;)</span><br><span class="line">[&#x27;L&#x27;, &#x27;R&#x27;, &#x27;L&#x27;]</span><br><span class="line">&gt;&gt;&gt; t2.search_path(&quot;carlos&quot;)</span><br><span class="line">[]</span><br><span class="line">&gt;&gt;&gt; t1.search_path(&quot;jim&quot;)</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<h2 id="HW11-P2-apply"><a href="#HW11-P2-apply" class="headerlink" title="[HW11 P2] apply"></a><code>[HW11 P2]</code> apply</h2><p>Write a method <code>def apply(self, f)</code> that takes a function on the values that are stored in the nodes of the binary search tree. It should modify the value of each node <code>n</code> to instead store <code>f(n.value)</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; t2.apply(lambda x: x+10)</span><br><span class="line">&gt;&gt;&gt; t2</span><br><span class="line">&#123;&#x27;abe&#x27;: 15, &#x27;angel&#x27;: 24, &#x27;anna&#x27;: 41, &#x27;ben&#x27;: 100, &#x27;carlos&#x27;: 27, &#x27;davide&#x27;: 99&#125;</span><br></pre></td></tr></table></figure>

<p>You might want to look at the <code>size</code> method to see how it works. It uses a recursive helper method that performs the work of touching every node in the tree.</p>
<h2 id="HW11-P3-selection-sort"><a href="#HW11-P3-selection-sort" class="headerlink" title="[HW11 P3] selection sort"></a><code>[HW11 P3]</code> selection sort</h2><p>Selection sort is a method for sorting a list that works by placing the 0-th item, then the 1st item, then the 2nd item, and so on until the list is sorted. It works <em>in place</em>, meaning that it swaps values around (like bubble sort) until the list is sorted. It works by making <em>n-1</em> passes for a list of length <em>n</em>. Let’s number these passes from 0 to <em>n-2</em>.</p>
<p>For the 0-th pass, we scan through the whole list to find the minimum element in the list. We then swap that element with the element at position 0. For the 1st pass, we scan through elements 1 through <em>n-1</em> to find the minimum of those elements. We then swap that element with the element at position 1. We continue in this way. In the <em>i</em>-th pass, we scan through elements <em>i</em> through <em>n-1</em> to find the next minimum value, then perform a swap to place it at position <em>i</em>.</p>
<p>Once we complete the pass numbered <em>n-2</em>, the whole list will be sorted.</p>
<p><strong>Write</strong> a function <code>def selectionSort(someList)</code> that sorts <code>someList</code> it is given using selection sort. Note that your code should not return a sorted list. Instead, it should rearrange the items that are stored in the list it is given.</p>
<h2 id="HW11-P4-count-sort"><a href="#HW11-P4-count-sort" class="headerlink" title="[HW11 P4] count sort"></a><code>[HW11 P4]</code> count sort</h2><p>There are situations in coding where the list of integers that we need to sort are drawn from a limited range. For example, the list</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 0, 0, 1, 3, 2, 1, 0, 1, 3, 3, 3, 1, 0, 1, 0]</span><br></pre></td></tr></table></figure>

<p>only has elements with values between 0 and 3. When that is the case, it is common to use a special sort called <em>count sort</em>.</p>
<p>Here is how it works. Assume that the numbers in our list are integers from 0 up to <em>m-1</em>. There are two phases. In the first phase we scan through the list and count the number of occurrences of each integer in that list. This is done by making a list of counts <code>count</code>, of length <em>m</em>, where <code>count[i]</code> is the number of times that the value <code>i</code> occurs in the list we are sorting. It makes one pass through the list in order to figure out all these counts.</p>
<p>For the list above, the <code>count</code> list is of length 4 and has the contents</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[5, 6, 2, 4]</span><br></pre></td></tr></table></figure>

<p>because 0 appears five times, 1 appears six times, 2 appears twice, and 3 appears four times.</p>
<p>In the second phase, we “rewrite” the list we are sorting to have that data in order. That is, we do the work to place the <em>m</em> values in order into the list according to their counts. For the example list, that ultimately places five 0s, six 1s, two 2s, and four 3s to obtain the list contents</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 2, 2, 3, 3, 3, 3]</span><br></pre></td></tr></table></figure>

<p><strong>Write</strong> a function <code>def countSort(someList, m)</code> that is given a list and the value of <code>m</code> (indicating that the list values are from 0 to <code>m-1</code>) and sorts the contents of <code>someList</code> using count sort. Note that your code should not return a sorted list. Instead, it should modify the list it is given so that the data is in sorted order.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/hw11/" data-id="clcv35ijf0006kxt06j2460dw" data-title="Homework 11 -- Searching and sorting" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hw10" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/hw10/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T06:30:46.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/hw10/">Homework 10 -- Linked Lists</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Complete and submit by 4&#x2F;21 at 1:00pm</strong></p>
<p><strong>Note the due date for this assignment.</strong></p>
<p>In the problems below you are asked to develop a series of linked list methods and also classes of objects that use lists of linked nodes as their underlying representation.  You should work from the starting code for linked lists that we showed you in lecture, <a href="LinkedList.py"><em>available for download here.</em></a> In some of the problems, we will ask you to extend the class definition with a new method. In others, we will ask you to devise a class from scratch, but you can use our code to make your methods for that new class.</p>
<p>For these new classes, our testing code will be examining the structure of the linked list of nodes your code makes.  You need to follow our instructions carefully, naming the instance variables the way we prescribe them so that our tests can examine the objects’ underlying linked structure.</p>
<h1 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h1><h2 id="HW10-P1-sum"><a href="#HW10-P1-sum" class="headerlink" title="[HW10 P1] sum"></a><code>[HW10 P1]</code> sum</h2><p>Add a method called <code>sum</code> to the the <code>LinkedList</code> class that computes and returns the sum of all the values held in the nodes of the linked list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll = LinkedList()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">7</span>, <span class="number">10</span>, <span class="number">1</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.<span class="built_in">sum</span>()</span><br><span class="line"><span class="number">18</span></span><br></pre></td></tr></table></figure>

<h2 id="HW10-P2-count"><a href="#HW10-P2-count" class="headerlink" title="[HW10 P2] count"></a><code>[HW10 P2]</code> count</h2><p>Add a method called <code>count</code> to the <code>LinkedList</code> class that takes a value and returns how many times that value appears in the nodes of the linked list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll = LinkedList()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">7</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">7</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.count(<span class="number">10</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.count(<span class="number">7</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.count(<span class="number">6</span>)</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="HW10-P3-apply"><a href="#HW10-P3-apply" class="headerlink" title="[HW10 P3] apply"></a><code>[HW10 P3]</code> apply</h2><p>Add a method called <code>apply</code> to the <code>LinkedList</code> class that takes a function as its argument. It should modify each of the values in the nodes with the value of that function applied to it.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll = LinkedList()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">7</span>, <span class="number">10</span>, <span class="number">1</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.apply(<span class="keyword">lambda</span> x: x*x)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">49</span>, <span class="number">100</span>, <span class="number">1</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.apply(<span class="keyword">lambda</span> x: x+<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">50</span>, <span class="number">101</span>, <span class="number">2</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="HW10-P4-sorted-list"><a href="#HW10-P4-sorted-list" class="headerlink" title="[HW10 P4] sorted list"></a><code>[HW10 P4]</code> sorted list</h2><p>Within the same file, add a new class definition <code>Sorted</code> that inherits from <code>LinkedList</code>. It should instead maintain the items that are appended in sorted order.  To do this, you’ll want to override the <code>append</code> method of <code>LinkedList</code> objects by writing a new <code>append</code> method under the class <code>Sorted</code>. It should insert nodes into the list in the order of their keys.  The first node should hold the smallest item, and the subsequent nodes should be at least as large, or larger than this first item.  Moving down the nodes from the first to the last, the values should be in sorted order. You need not change or add any other methods to this class.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll = Sorted()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">1</span>, <span class="number">7</span>, <span class="number">10</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="HW10-P5-delete-all"><a href="#HW10-P5-delete-all" class="headerlink" title="[HW10 P5] delete all"></a><code>[HW10 P5]</code> delete all</h2><p>Add a new method <code>deleteAll</code> to class <code>LinkedList</code> that takes a value and modifies the linked list so that all nodes with that value are removed.  If no nodes have that value, the list should not be changed.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll = LinkedList()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.append(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">7</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">1</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.deleteAll(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">10</span>, <span class="number">1</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.deleteAll(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ll.display()</span><br><span class="line">&lt;<span class="number">10</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="HW10-P6-Queue"><a href="#HW10-P6-Queue" class="headerlink" title="[HW10 P6] Queue"></a><code>[HW10 P6]</code> Queue</h2><p>There is a common collection for organizing a sequence of items called a <code>Queue</code>. The two main methods of queues are <code>enqueue</code> which places an item onto the queue, and <code>dequeue</code> which removes an item from the queue.  A <code>dequeue</code> always removes the <em>least recently added</em> item from the queue.</p>
<p>A queue can be thought of as a line of items, where a new item gets added to the back of the line with <code>enqueue</code>, and where <code>dequeue</code> removes the item from the front. The front item is often called the “head” item of the queue.</p>
<p>Create a new <code>Queue</code> class. Write it’s code so that it stores its elements using a linked list.  We’ve <a href="Queue.py"><em>provided a template of the code at this link</em></a> that you can complete by replacing each of the <code>pass</code> lines with a method’s code. In addition to <code>__init__</code>, which makes an empty <code>Queue</code>, it should also have the methods <code>enqueue</code>, <code>dequeue</code>, and <code>head</code>.</p>
<p>Write the code so that it maintains two instance variables <code>first</code> and <code>last</code>.  When the queue is empty, both its <code>self.first</code> and <code>self.last</code> should be <code>None</code>.  When the queue has several items, <code>self.first</code> should contain the node with the value that’s been sitting in the queue the longest. This would be the value that was least recently added, the head item.  The next node after <code>self.first</code> should contain the value that was added after the “head”, and so on, all the way to the node at the end, which should contain the value most recently added.  The variable <code>self.last</code> should be that last node in the list.</p>
<p>When a value is added to the queue with <code>enqueue</code>, a new node should be placed at the end of the list, and <code>self.last</code> should be changed to refer to that new node.  When a value is removed with <code>dequeue</code> the node referenced by <code>self.first</code> should be removed and <code>self.first</code> should change to the next node in the linked list.</p>
<p>The <code>dequeue</code> method should return the value that was held in that removed node. The <code>head</code> method should return the head value, but not remove it from the queue. If the queue is empty, the <code>head</code> method should return <code>None</code>.</p>
<p>When a queue has only one item, <code>self.first</code> and <code>self.last</code> will be referring to the same node in the linked list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>q = Queue()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.enqueue(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.enqueue(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.enqueue(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.head()</span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.dequeue()</span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.head()</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.enqueue(<span class="number">8</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.dequeue()</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>q.head()</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="HW10-P7-doubly-linked"><a href="#HW10-P7-doubly-linked" class="headerlink" title="[HW10 P7] doubly-linked"></a><code>[HW10 P7]</code> doubly-linked</h2><p>Let’s now devise a new linked list class with a different node type, one that provides a “doubly-linked” list which we describe below.  We’ll name the new class ‘DLinkedList’ and its node class ‘DLLNode’.</p>
<p>In a doubly-linked list, nodes have a link to both the <em>previous</em> and the next node in their structure.  That means that each ‘DLLNode’ should have a <code>value</code>, a <code>next</code>, and a <code>prev</code>. The use of <code>value</code> and <code>next</code> are as before for singly-linked lists. As before, a node’s <code>next</code> refers to the node that follows it in the linked structure. In addition, a node’s <code>prev</code> refers to the node that <em>precedes it</em> in the linked structure. When a node is the last in the linked list, its <code>next</code> should be <code>None</code>. If a node is the first in the linked list, its <code>prev</code> should be <code>None</code>.  For any node that is neither the first or the last, its <code>next</code> node should have it as <code>prev</code>. Its <code>prev</code> node should have it as <code>next</code>. That is to say, for any node <code>n</code> sitting somewhere in the middle of a doubly-linked list</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n.<span class="built_in">next</span>.prev == n</span><br></pre></td></tr></table></figure>
<p>and</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n.prev.<span class="built_in">next</span> == n</span><br></pre></td></tr></table></figure>

<p>Rewrite the code for the <em>original</em> <code>LinkedList.py</code> source we provided.  Call it <code>DLinkedList.py</code> and name its classes <code>DLLNode</code> and <code>DLinkedList</code>.  Its <code>DLLNode</code> class should build doubly-linked nodes that contain both <code>next</code> and <code>prev</code> attributes. A <code>DLinkedList</code> object should have two attributes: <code>first</code> and <code>last</code>. When the list is empty, these should both be set to <code>None</code>. When the list has length one, that one node should be both the <code>first</code> and the <code>last</code>. When the list is longer, <code>first</code> should refer to that list’s first node and <code>last</code> should refer to that list’s last node.</p>
<p>Write the <code>append</code>, <code>insert</code>, and <code>delete</code> methods of <code>DLinkedList</code> so that they modify both <code>next</code> and <code>prev</code> when nodes are linked and unlinked with these methods. They should also modify the <code>first</code> and <code>last</code> references in cases where those parts of the list structure change.</p>
<p>Note that the other methods we wrote for <code>LinkedList</code> will not need to be changed for <code>DLinkedList</code>. They will still work since they only inspect the nodes in the list (they don’t modify them) and rely only on the <code>next</code> attribute of nodes and the <code>first</code> attribute of lists.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/hw10/" data-id="clcv35ijb0001kxt04z1u7oh9" data-title="Homework 10 -- Linked Lists" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hw9" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/hw9/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T06:25:23.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/hw9/">Homework 9 -- Higher-Order Functions</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Complete and submit by 4&#x2F;7 at 1:00pm</strong> </p>
<p>Here we exercise the <em>higher order</em> function aspects of Python. The Python language allows you to treat functions as data. You can pass function objects as parameters to functions and you can return functions from functions.  Functions can also be described tersely, and <em>anonymously</em>, with the <code>lambda</code> construct.</p>
<p>We focus briefly on the trickiest of these features: functions that return functions. Consider the kind of Python code suggested below</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def functionMaker(...):</span><br><span class="line"></span><br><span class="line">    def some_function(...):</span><br><span class="line">        ...</span><br><span class="line">        # code of some_function</span><br><span class="line">        ...</span><br><span class="line">        return ...</span><br><span class="line"></span><br><span class="line">    return some_function</span><br></pre></td></tr></table></figure>

<p>The function <code>functionMaker</code> is handed some information. Using that information it describes <code>some_function</code> and returns that function object to the code that called <code>functionMaker</code>.  Here is a more realized version of that code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">makeAdder</span>(<span class="params">amount</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">return</span> x + amount</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> add</span><br></pre></td></tr></table></figure>

<p>The function <code>makeAdder</code> returns back a function that adds a specific <code>amount</code> to its parameter <code>x</code>.  So <code>makeAdder(1)</code> returns an incrementing function, and <code>makeAdder(10)</code> returns an “adds 10” function.</p>
<p>We could also write the <code>makeAdder</code> function like below:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">makeAdder</span>(<span class="params">amount</span>):</span><br><span class="line"></span><br><span class="line">    add = (<span class="keyword">lambda</span> x: x+amount)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> add</span><br></pre></td></tr></table></figure>
<p>or simply</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">makeAdder</span>(<span class="params">amount</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">lambda</span> x: x+amount)</span><br></pre></td></tr></table></figure>

<p>This somehow makes it clear what’s happening: <code>makeAdder</code> gives back a function object that uses any specific <code>amount</code> you feed <code>makeAdder</code> as input. The code below builds three different function objects, one for each amount:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; adds10 = makeAdder(10)</span><br><span class="line">&gt;&gt;&gt; adds1 = makeAdder(1)</span><br><span class="line">&gt;&gt;&gt; adds37 = makeAdder(37)</span><br><span class="line">&gt;&gt;&gt; adds10(8)</span><br><span class="line">18</span><br><span class="line">&gt;&gt;&gt; adds1(8)</span><br><span class="line">9</span><br><span class="line">&gt;&gt;&gt; adds37(8)</span><br><span class="line">45</span><br></pre></td></tr></table></figure>
<p>You can write <code>makeAdder</code> more tersely as:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">makeAdder = (<span class="keyword">lambda</span> amount: (<span class="keyword">lambda</span> x: x + amount))</span><br></pre></td></tr></table></figure>

<p>This is just a nested pair of <code>lambda</code> expressions.</p>
<h1 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h1><h2 id="HW9-P1-max-of-two"><a href="#HW9-P1-max-of-two" class="headerlink" title="[HW9 P1] max of two"></a><code>[HW9 P1]</code> max of two</h2><p>Write a function <code>def max_of_two(f,g,x)</code> that takes three parameters. The first two are functions and the third is a number. The function <code>max_of_two</code> should call each of the two functions <code>f</code> and <code>g</code> on the number <code>x</code> that was given.  It should return the maximum of those two results.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; max_of_two(lambda a: a+10, lambda b: b*b, 2)</span><br><span class="line">12</span><br><span class="line">&gt;&gt;&gt; max_of_two(lambda a: a+10, lambda b: b*b, 3)</span><br><span class="line">13</span><br><span class="line">&gt;&gt;&gt; max_of_two(lambda a: a+10, lambda b: b*b, 4)</span><br><span class="line">16</span><br><span class="line">&gt;&gt;&gt; max_of_two(lambda a: a+10, lambda b: b*b, 5)</span><br><span class="line">25</span><br></pre></td></tr></table></figure>

<p>The function <code>max_of_two</code> is a higher-order function because it takes two function parameters.</p>
<h2 id="HW9-P2-average"><a href="#HW9-P2-average" class="headerlink" title="[HW9 P2] average"></a><code>[HW9 P2]</code> average</h2><p>Write a function <code>def average(f,start,end)</code> that takes three parameters. The first is an integer function and the next two are integers. It should return the average value of function <code>f</code> when evaluated on numbers in the range from <code>start</code> up to <code>end</code>. That is, it should compute the sum <code>f(start) + f(start+1) + ... + f(end)</code> divided by the number of summands in that sum.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; average(lambda b: b*b, 1, 5)</span><br><span class="line">11.0</span><br><span class="line">&gt;&gt;&gt; average(lambda b: b*b, 2, 5)</span><br><span class="line">13.5</span><br><span class="line">&gt;&gt;&gt; average(lambda b: b*b, -1, 1)</span><br><span class="line">0.666666666666666</span><br><span class="line">&gt;&gt;&gt; average(lambda a: a+10, 1,5)</span><br><span class="line">13.0</span><br></pre></td></tr></table></figure>

<p>The function <code>average</code> is a higher-order function because it takes a function as a parameter.</p>
<p>You can assume that <code>start</code> is not larger than <code>end</code> and so there is at least one value in the range.</p>
<h2 id="HW9-P3-brick-maker"><a href="#HW9-P3-brick-maker" class="headerlink" title="[HW9 P3] brick maker"></a><code>[HW9 P3]</code> brick maker</h2><p>Define a function <code>brick_maker</code> that takes a single parameter— a symbol represented as a string—and returns a function that’s specialized for making a rectangular “brick” , that is, a string made up of repeats of that character, of a given width and height.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; at_brick = brick_maker(&#x27;@&#x27;)</span><br><span class="line">&gt;&gt;&gt; dot_brick = brick_maker(&#x27;.&#x27;)</span><br><span class="line">&gt;&gt;&gt; print(at_brick(3,2))</span><br><span class="line">@@@</span><br><span class="line">@@@</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; print(dot_brick(5,1))</span><br><span class="line">.....</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; print(dot_brick(3,4))</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; at_brick(2,2)</span><br><span class="line">&#x27;@@\n@@\n&#x27;</span><br></pre></td></tr></table></figure>

<p>Note that the function given back by <code>brick_maker</code> is <em>a function that</em> <strong>returns</strong> <em>a string</em>. Neither <code>at_brick</code> nor <code>dot_brick</code> print. In our first few tests, above, we explicitly <code>print</code> the string returned by <code>at_brick</code> and <code>dot_brick</code>. In the last test, we examine the string returned by <code>at_brick</code>.</p>
<p>Bricks have positive widths and positive heights. You need not worry about handling brick parameters that are not positive.</p>
<p>The function <code>brick_maker</code> is higher order.  When given a symbol it gives back a function, one that happens to be a brick creation function for that symbol.</p>
<h2 id="HW9-P4-max-of-functions"><a href="#HW9-P4-max-of-functions" class="headerlink" title="[HW9 P4] max of functions"></a><code>[HW9 P4]</code> max of functions</h2><p>Write a function <code>def max_of_funcs(f,g)</code> which takes two function parameters, <code>f</code> and <code>g</code>.  It should return function <code>h</code>, with the property that when given a value <code>x</code> the result of <code>h(x)</code> should be the maximum of <code>f(x)</code> and <code>g(x)</code>.  Note that this function is very different from the function <code>max_of_two</code>, but the two are closely related.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; f = max_of_funcs(lambda a: a+10, lambda b: b*b)</span><br><span class="line">&gt;&gt;&gt; f(2)</span><br><span class="line">12</span><br><span class="line">&gt;&gt;&gt; f(3)</span><br><span class="line">13</span><br><span class="line">&gt;&gt;&gt; f(4)</span><br><span class="line">16</span><br><span class="line">&gt;&gt;&gt; f(5)</span><br><span class="line">25</span><br></pre></td></tr></table></figure>

<p>The <code>max_of_funcs</code> is a higher-order function because it takes two function parameters and returns a function.</p>
<h2 id="HW9-P5-conditional-print"><a href="#HW9-P5-conditional-print" class="headerlink" title="[HW9 P5] conditional print"></a><code>[HW9 P5]</code> conditional print</h2><p>Write a function <code>conditional_print</code>. It is a higher-order function that takes a parameter and gives back a <em>printing procedure</em>, one that acts like the built-in <code>print</code> procedure by outputting information to the terminal. This printing function will behave a little differently though: the function that <code>conditional_print</code> gives back will be a <em>conditionally printing procedure</em>.</p>
<p>Let’s pin down what we mean by this. The <code>print</code> procedure takes a parameter and always prints it, like so:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; print(6)</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt; print(3)</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; print(7)</span><br><span class="line">7</span><br><span class="line">&gt;&gt;&gt; print(37)</span><br><span class="line">37</span><br><span class="line">&gt;&gt;&gt; print(36)</span><br><span class="line">36</span><br></pre></td></tr></table></figure>

<p>A “conditionally printing procedure” only prints inputs of a particular type (while doing nothing on other inputs).  For example, you could create a function that prints its integer input when it is a multiple of 3, and does nothing otherwise.  Suppose you did this, defined a function called <code>print_when_mult_of_three</code>, and used it instead of <code>print</code>.  Then, we’d expect to see this kind of interaction:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; print_when_mult_of_three(6)</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt; print_when_mult_of_three(3)</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; print_when_mult_of_three(7)</span><br><span class="line">&gt;&gt;&gt; print_when_mult_of_three(37)</span><br><span class="line">&gt;&gt;&gt; print_when_mult_of_three(36)</span><br><span class="line">36</span><br></pre></td></tr></table></figure>

<p>You’ll notice what happened there. When the function was fed multiples of three (like 6, 3, and 36) it printed those. For the other numbers, it didn’t do anything. It printed only when that condition was met.</p>
<p>So, back to the matter at hand: we want you to write a higher-order function called <code>conditional_print</code> that constructs conditionally printing procedures. It should take a single input, which we will call a “test”.  A test is a function that only returns <code>True</code> or <code>False</code>.  When given a test, <code>conditional_print</code> should return a conditionally printing procedure that only prints when the test returns <code>True</code>.</p>
<p>It can then be used like below</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; mult_of_three = (lambda n: n % 3 == 0)</span><br><span class="line">&gt;&gt;&gt; pr_mo3 = conditional_print(mult_of_three)</span><br><span class="line">&gt;&gt;&gt; pr_mo3(6)</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt; pr_mo3(7)</span><br><span class="line">&gt;&gt;&gt; pr_pos =  conditional_print(lambda x: x &gt; 0)</span><br><span class="line">&gt;&gt;&gt; pr_pos(7)</span><br><span class="line">7</span><br><span class="line">&gt;&gt;&gt; pr_pos(-7)</span><br><span class="line">&gt;&gt;&gt; pr_pos(0)</span><br><span class="line">&gt;&gt;&gt; pr_pos(1)</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>The <code>conditional_print</code> function is higher-order because it takes a function as a parameter. It also returns back a function, a procedure that conditionally prints.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/hw9/" data-id="clcv35ijk000kkxt0ei21gh4u" data-title="Homework 9 -- Higher-Order Functions" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hw8" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/121-S23/2023/01/12/hw8/" class="article-date">
  <time class="dt-published" datetime="2023-01-13T06:17:09.000Z" itemprop="datePublished">2023-01-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/121-S23/2023/01/12/hw8/">Homework 8 -- Object Classes and Inheritance</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>Complete and submit by 3&#x2F;31 at 1:00pm</strong></p>
<p>This lab has you work with Python’s object-oriented facilities. We look at defining Python object classes, a means for inventing new data types that your programs can use. In doing so, we describe the components that make up the object and also the operations that can be performed on that object. The components are an object’s <em>instance variables</em> and the operations’ code defines an object’s <em>methods</em>. Typical methods access (or “get”) the information stored in an object’s components. Other methods might also modify them.</p>
<p>Below we talk through the design of two object classes described in lecture. These are a <code>class Rational</code> and a <code>class GiftCard</code>. After describing these two classes, we then talk about inheritance.  This <a href="homework8code.zip"><strong>zip file</strong></a> has the Python source code for the examples in these descriptions.</p>
<h2 id="A-Rational-class"><a href="#A-Rational-class" class="headerlink" title="A Rational class"></a>A <code>Rational</code> class</h2><p>We first invented a data structure for representing rational numbers. A rational number was represented by its numerator and its denominator. You can multiply them and sum them. We also described “getters” for accessing its fraction’s two components and a method converting it to a printable string.</p>
<p>If you check out the file <code>Rational.py</code> you will see the implementation of a Python class for a new type <code>Rational</code>.  In the interaction below, we can see import and use of this class:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from Rational import Rational</span><br><span class="line">&gt;&gt;&gt; a = Rational(1, -3)</span><br><span class="line">&gt;&gt;&gt; a.stringOf()</span><br><span class="line">&#x27;-1/3&#x27;</span><br><span class="line">&gt;&gt;&gt; b = Rational(3, 6)</span><br><span class="line">&gt;&gt;&gt; b.stringOf()</span><br><span class="line">&#x27;1/2&#x27;</span><br><span class="line">&gt;&gt;&gt; c = a.sumWith(b)</span><br><span class="line">&gt;&gt;&gt; c.output()</span><br><span class="line">1/6</span><br></pre></td></tr></table></figure>

<p>The first line loads the definition of the <code>Rational</code> class into Python. The second and fourth lines each explicitly construct a <code>Rational</code> object. The behavior of the constructor is given by the lines at the start of <code>Rational.py</code>, namely</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rational</span>:</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,d</span>):</span><br><span class="line">    <span class="comment"># Normalize it so the sign is up top.</span></span><br><span class="line">    <span class="keyword">if</span> d &lt; <span class="number">0</span>:</span><br><span class="line">        n *= -<span class="number">1</span></span><br><span class="line">        d *= -<span class="number">1</span></span><br><span class="line">    <span class="comment"># Reduce the fraction.</span></span><br><span class="line">    g = GCD(n,d)</span><br><span class="line">    self.num = n // g</span><br><span class="line">    self.den = d // g</span><br></pre></td></tr></table></figure>

<p>Here we see the main goal of a class constructor’s initialization method <code>__init__</code>. It sets the two attributes of a rational number object, named <code>num</code> and <code>den</code>. This is performed in the last two lines of the definition:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.num = n // g</span><br><span class="line">self.den = d // g</span><br></pre></td></tr></table></figure>

<p>Within that code, <code>self.num</code> is how we add a new attribute to a newly created object. <code>self</code> is assumed to be that object.</p>
<p>The code takes two integer values, and divides out their common divisor. It makes sure that, if the fraction is negative, that the numerator holds the negative value.</p>
<p>Since the constructor takes two parameters, the definition of the <code>__init__</code> method takes three parameters. This is because every method has to take the receiving object, denoted <code>self</code>, as its first argument, like so:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n, d</span>):</span><br></pre></td></tr></table></figure>

<p>The lines below take the two parameters <code>n</code> and <code>d</code>, work with them to set up the components of <code>self</code>.</p>
<p>The <code>__init__</code> method is typically not called directly. Rather, it is the code that’s run when we construct a new <code>Rational</code> with an expression like:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rational(<span class="number">36</span>,<span class="number">24</span>)</span><br></pre></td></tr></table></figure>

<p>Other methods are defined similarly. The method that requests that a <code>Rational</code> number be added to another, and that that third number be returned, is given below:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sumWith</span>(<span class="params">self, other</span>):</span><br><span class="line">    ns = self.numerator()</span><br><span class="line">    ds = self.denominator()</span><br><span class="line">    no = other.numerator()</span><br><span class="line">    do = other.denominator()</span><br><span class="line">    <span class="keyword">return</span> Rational(ns*do + no*ds, ds*do)</span><br></pre></td></tr></table></figure>

<p>The first four lines get the four integer components of the two objects, the receiving object <code>self</code> and the parameter <code>other</code>. This code gets used when we write something like</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c = a.sumWith(b)</span><br></pre></td></tr></table></figure>

<p>In this case. <code>a</code> will be what <code>self</code> refers to when the method’s code runs, and <code>b</code> will be <code>other</code>. The last line of the method returns a new rational number by calling the constructor. <code>c</code> will get set to refer to that new object.</p>
<p>Note that <code>Rational</code> number objects aren’t designed to be <em>mutable</em>.</p>
<h2 id="A-GiftCard-class"><a href="#A-GiftCard-class" class="headerlink" title="A GiftCard class"></a>A <code>GiftCard</code> class</h2><p>Another example we showed was a class that represented a card with a balance. You can see its definition in the file <code>GiftCard.py</code>. These lines below work with an <code>GiftCard</code> object after importing the <code>GiftCard</code> code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> GiftCard <span class="keyword">import</span> GiftCard</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc = GiftCard(<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc.spend(<span class="number">20</span>)</span><br><span class="line"><span class="number">80</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc.addFunds(<span class="number">10</span>)</span><br><span class="line"><span class="number">90</span></span><br></pre></td></tr></table></figure>

<p>The <code>GiftCard</code> is a simple example of a mutable object. It stores an amount <code>balance</code> that can be increased by <code>addFunds</code> and decreased by <code>spend</code>. Here is further interaction</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc.spend(<span class="number">55</span>)</span><br><span class="line"><span class="number">35</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc.spend(<span class="number">50</span>)</span><br><span class="line"><span class="string">&#x27;Insufficient funds&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>gc.getBalance()</span><br><span class="line"><span class="number">35</span></span><br></pre></td></tr></table></figure>
<p>The spend method is written like so:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">spend</span>(<span class="params">self, amount</span>): </span><br><span class="line">    <span class="keyword">if</span> amount &gt; self.balance:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Insufficient funds&quot;</span></span><br><span class="line">    self.balance = self.balance - amount</span><br><span class="line">    <span class="keyword">return</span> self.balance</span><br></pre></td></tr></table></figure>

<p>Here, again, we see two parameters for a one-parameter method. There is the receiver <code>self</code> and then also the <code>amount</code> that should be withdrawn from the card’s balance. The line</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.balance = self.balance - amount</span><br></pre></td></tr></table></figure>

<p>modifies the card’s balance, and this only occurs if <code>amount &lt;= self.balance</code>. If instead <code>amount &gt; self.balance</code> then the method returns an error string.</p>
<p>Take a look at the rest of its method definitions, including its <code>__init__</code> method</p>
<h2 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h2><p>In object-oriented languages, we can construct hierarchies of object classes. In lecture we did this with bank account classes <code>Account</code>, <code>Checking</code>, and <code>Savings</code>, the latter two being <em>subclasses</em> of the former. A subclass inherits the methods of their designated superclass, but then might override some of its behavior and perhaps have additional methods. This can be seen as a <em>specialization</em> of their superclass.</p>
<p>Designation of which superclass gets extended by a newly defined subclass is simple code syntax. Suppose we have a class <code>A</code> and want to invent a class <code>B</code> that inherits from <code>A</code>. We then write</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class B(A):</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>putting the superclass <code>A</code> in parentheses. This tells Python that all the class attributes and instance methods of <code>A</code> should also be defined for <code>B</code>.  And then, under <code>...</code> we usually introduce other class attributes and some other of its instances’ methods. We might also override methods that we’re inherited.</p>
<p>To see a short, but rich-enough example, review the <code>Account.py</code> code.  In that code, there are moments when we are overriding a method, where we choose to modify the behavior of the subclass relative to its superclass, and we explicitly need to call the method code of the superclass. We do this for <code>Saving</code>‘s <code>withdraw</code> method by calling</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`Account.withdraw(self,...)`</span><br></pre></td></tr></table></figure>

<p>This is a slightly different syntax than normal method invocation.  The <code>self</code> parameter is included in the parentheses, and this is because we are using the <code>Account...</code> notation to indicate that we want to run the method defined for class <code>Account</code>.  We do this also for <code>Checking.payInterest</code> and also <code>PromotionalChecking.__init__</code>.</p>
<h1 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h1><h2 id="HW8-P1-Dial"><a href="#HW8-P1-Dial" class="headerlink" title="[HW8 P1] Dial"></a><code>[HW8 P1]</code> Dial</h2><p>A <code>Dial</code> is an object that can be controlled to be set to a certain level, and that level can be displayed. It has an upper limit on its level that can be configured. Its lower limit is 0. Below we see the construction and use of a <code>Dial</code> object whose limit is <code>10</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = Dial(<span class="number">10</span>,<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[..........]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.increaseBy(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[OOOOOOO...]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.decreaseBy(<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[OOOOO.....]</span><br></pre></td></tr></table></figure>

<p>When first constructed, its initial level is <code>0</code>. But then that level can be increased with <code>increaseBy</code>. It can also be decreased using <code>decreaseBy</code>. To configure its display, you build a dial object by feeding its constructor two characters. The first is used to display a unit of the dial’s current level, and the other is for the remaining characters.</p>
<p>Here is the behavior of a different dial</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = Dial(<span class="number">7</span>,<span class="string">&#x27;#&#x27;</span>,<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.increaseBy(<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[<span class="comment">###----]</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.increaseBy(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[<span class="comment">#######]</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.decreaseBy(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[<span class="comment">######-]</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.decreaseBy(<span class="number">17</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[-------]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.increaseBy(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.display()</span><br><span class="line">[<span class="comment">#------]</span></span><br></pre></td></tr></table></figure>

<p>The method <code>increaseBy</code> takes an integer (assumed to be positive) and increased by that amount. If the increase would take the dial over its limit, the level gets set to the limit. The same goes for <code>decreaseBy</code>. It takes a positive integer and lowers the level by that amount, but only if that decrease wouldn’t set the level negative. If it would, the level gets set to 0.</p>
<p>In a file named <code>Dial.py</code>, write the code for a class definition that defines <code>class Dial</code> and its methods. In addition to <code>__init__</code> you should define <code>increaseBy</code>, <code>decreaseBy</code>, and <code>display</code>.</p>
<p>The method <code>display</code> prints the characters of the display showing the current level. It should work as our examples illustrate.  The method does not return the display string. Instead, it prints it out to the console.</p>
<p>To test your code, you’ll want to run Python with no arguments like so:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">% python3</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> Dial <span class="keyword">import</span> Dial</span><br></pre></td></tr></table></figure>

<p>The first thing you’ll want to enter is the <code>import</code> line. This will load in the definition of <code>Dial</code>.</p>
<h2 id="HW8-P2-Car"><a href="#HW8-P2-Car" class="headerlink" title="[HW8 P2] Car"></a><code>[HW8 P2]</code> Car</h2><p>The next class we build is called <code>Car</code>. Make a new file called <code>Car.py</code> and write its class definition. It represents automobiles driving around some area. We will assume for this assignment that our world is a flat plane with no obstacles, meaning all trips take the straight-line path between the start and end points.  There is a car factory where cars are built and introduced into the world.</p>
<p>We identify where cars are located by a pair of coordinates— a <em>y</em>-coordinate describing how many miles to the north or south a car sits from their origin and an <em>x</em>-coordinate describing how many miles to the east or west that a cars sits from their origin. So a car sitting at <code>[1.0,0.0]</code> is one mile east of the factory.  A car sitting at <code>[0.0,-1.0]</code> is one mile south of the factory. A car sitting at <code>[-1.414, 1.414]</code> is about two miles northwest of the factory.</p>
<p>The <code>Car</code> constructor should set up the basic starting values of things we might care about for a given instance of the class. For this assignment, that should be the miles per gallon that the car gets and the size of the car’s gas tank.</p>
<p>Please have your <code>Car</code> constructor function <code>__init__</code> take these two additional values as parameters in that order: miles per gallon, then fuel tank capacity.  The constructor should initialize instance variables to carry these values, along with the <em>x</em> and <em>y</em> position where the car sits (initially at the origin), along with how much fuel is in the tank (initially, make it a full tank).</p>
<p>Now, add a <code>Car</code> method <code>driveTo</code>. It should take two additional parameters, namely, the x and y coordinates of a location for the car to attempt to move. If the car has enough gas to make the trip, the car should be moved, the amount of gas remaining should be updated, and the method should return <code>True</code>. If the car does not have enough gas, it should not be moved or changed at all, and the method should return <code>False</code>.</p>
<p>To perform this check of the gas, you’ll need to figure out the distance that a car would travel. This distance is</p>
<p>$$<br>\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}<br>$$<br>were the car to move from a location<br>$[x_1,y_1]$ to a location<br>$[x_2,y_2]$.</p>
<p>So that we can test your class, we need you to add some additional methods that allow us to find out information about the car.  Add two methods named <code>getLocationX</code> and <code>getLocationY</code> These in tandem return the current location of the car, by returning its <em>x</em> coordinate and its <em>y</em> coordinate.  Also add a <code>getGas</code> method which returns the number of gallons of gas the car has left.  Finally, add a <code>getToFill</code> method which returns how much gas the car would need to fill its tank back to capacity.</p>
<p>Though these methods are used for our testing, it is normal to add these “getter” methods that access the contents of an object’s instance variables, rather than having them accessed directly.  This provides a reasonable “layer of abstraction”, allowing you to change the internals of this class without having to change all the code that relies on this class.</p>
<p>You can test this code by creating a car and driving it around.  Again, you will want to import the definition using the Python <code>import</code> statement like so:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> Car <span class="keyword">import</span> Car</span><br></pre></td></tr></table></figure>

<h2 id="HW8-P3-VerboseDial"><a href="#HW8-P3-VerboseDial" class="headerlink" title="[HW8 P3] VerboseDial"></a><code>[HW8 P3]</code> VerboseDial</h2><p>Let’s work from your <code>Dial.py</code> code. Make a copy of your <code>Dial.py</code> as a file named <code>VerboseDial.py</code>. In that file add a new class definition below <code>Dial</code> named <code>VerboseDial</code> that is a subclass of <code>Dial</code>.  This object is just like <code>Dial</code> except that it always outputs the display of the dial after its level has been increased or decreased. Here is an example interaction:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>vbd = VerboseDial(<span class="number">10</span>,<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vbd.display()</span><br><span class="line">[..........]    </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vbd.increaseBy(<span class="number">7</span>)</span><br><span class="line">[OOOOOOO...]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vbd.decreaseBy(<span class="number">2</span>)</span><br><span class="line">[OOOOO.....]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vbd.decreaseBy(<span class="number">5</span>)</span><br><span class="line">[..........]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vbd.decreaseBy(<span class="number">2</span>)</span><br><span class="line">[..........]</span><br></pre></td></tr></table></figure>

<p>Note that each call to <code>increaseBy</code> and <code>decreaseBy</code> leads to a <code>print</code> of the dial’s display. This happens even if the dial’s level doesn’t actually change.  In the last decrease, the level stayed at 0, but the verbose version of the dial displays after each call of <code>increaseBy</code> and <code>decreaseBy</code>, regardless.</p>
<h2 id="HW8-P4-OnOffDial"><a href="#HW8-P4-OnOffDial" class="headerlink" title="[HW8 P4] OnOffDial"></a><code>[HW8 P4]</code> OnOffDial</h2><p>Now we invent a subclass of <code>VerboseDial</code> named <code>OnOffDial</code>.  Make a copy of <code>Verbose.py</code> as a file <code>OnOffDial.py</code>.  You will add a third class definition to this file.</p>
<p>An on&#x2F;off dial’s verbose behavior can be turned on or off. When first built it behaves the same as a <code>VerboseDial</code> like below:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood = OnOffDial(<span class="number">10</span>,<span class="string">&#x27;O&#x27;</span>,<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.display()</span><br><span class="line">[..........]    </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.increaseBy(<span class="number">7</span>)</span><br><span class="line">[OOOOOOO...]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.decreaseBy(<span class="number">2</span>)</span><br><span class="line">[OOOOO.....]</span><br></pre></td></tr></table></figure>

<p>It has two additional methods <code>turnOff</code> and <code>turnOn</code>.  These methods take no parameters other than <code>self</code> and so are passed no arguments. They behave like so, continuing from the interaction above:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.turnOff()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.display()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.increaseBy(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.decreaseBy(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.turnOn()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.display()</span><br><span class="line">[OOOOOOOO..]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ood.decreaseBy(<span class="number">3</span>)</span><br><span class="line">[OOOOO.....]</span><br></pre></td></tr></table></figure>

<p>When an <code>OnOffDial</code> is turned off, it never displays, not even when the <code>display</code> method is called. But then it can be turned back on.  When on, it behaves like a <code>VerboseDisplay</code> unless and until it is turned off again.</p>
<h2 id="HW8-P5-Taxi"><a href="#HW8-P5-Taxi" class="headerlink" title="[HW8 P5] Taxi"></a><code>[HW8 P5]</code> Taxi</h2><p>Let’s build another kind of car for simulating a taxi.  We create a <code>Taxi</code> class that inherits from <code>Car</code>. Taxis have the additional behavior that they can pick up passengers and drop them off. Also, a taxi’s driver earns money as a result of a trip taken with a passenger. When a taxi is first created, its driver has no money.</p>
<p>To do this coding, make a copy of <code>Car.py</code> called <code>Taxi.py</code>.  Here you’ll add your definition of the <code>Taxi</code> class.</p>
<p>Add <code>pickup</code> and <code>dropoff</code> methods to taxis. The <code>pickup</code> method changes the status of the taxi so that it is holding a passenger (it does not change any other aspect of the taxi). At that point, the taxi should track the miles it drives while carrying a passenger.  The <code>dropoff</code> method drops off a passenger.  When that happens, the taxi gets paid at $2 for the pickup plus $3 per mile driven with the passenger. The method should also change the status of the taxi to indicate that it is no longer holding a passenger.</p>
<p>In addition, the <code>pickup</code> and <code>dropoff</code> methods should return <code>True</code> or <code>False</code> to signify if the method executed successfully.  In particular, <code>False</code> should be returned if <code>pickup</code> is run on a taxi that already has a passenger. <code>False</code> should be returned by <code>dropoff</code> if is run on a taxi that has no passenger.</p>
<p>Also add a getter method <code>getMoney</code> that reports the amount of money that the taxi has earned by transporting its passenger.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://nchanath.github.io/121-S23/2023/01/12/hw8/" data-id="clcv35ijl000okxt09yze6kjn" data-title="Homework 8 -- Object Classes and Inheritance" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/121-S23/page/2/">2</a><a class="extend next" rel="next" href="/121-S23/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/121-S23/tags/Announcements/" rel="tag">Announcements</a></li><li class="tag-list-item"><a class="tag-list-link" href="/121-S23/tags/Handouts/" rel="tag">Handouts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/121-S23/tags/Homework/" rel="tag">Homework</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/121-S23/tags/Announcements/" style="font-size: 10px;">Announcements</a> <a href="/121-S23/tags/Handouts/" style="font-size: 15px;">Handouts</a> <a href="/121-S23/tags/Homework/" style="font-size: 20px;">Homework</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/121-S23/archives/2023/01/">January 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/121-S23/2023/01/14/prog-ex-lec01-1/">Programming exercise for Lec01-1</a>
          </li>
        
          <li>
            <a href="/121-S23/2023/01/13/info/">Course information</a>
          </li>
        
          <li>
            <a href="/121-S23/2023/01/12/proj4/">Project 4 -- Adventure</a>
          </li>
        
          <li>
            <a href="/121-S23/2023/01/12/proj3/">Project 2 -- Hawks and Doves, simulating competition among birds</a>
          </li>
        
          <li>
            <a href="/121-S23/2023/01/12/proj2/">Project 2 -- Stats/Chats</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Chanathip Namprempre<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/121-S23/tags/Announcements" class="mobile-nav-link">Announcements</a>
  
    <a href="/121-S23/syllabus" class="mobile-nav-link">Syllabus</a>
  
    <a href="/121-S23/lecturenotes" class="mobile-nav-link">Lecture Notes</a>
  
    <a href="/121-S23/tags/Handouts" class="mobile-nav-link">Handouts</a>
  
    <a href="/121-S23/tags/Homework" class="mobile-nav-link">Homework</a>
  
    <a href="/121-S23/resources" class="mobile-nav-link">Resources</a>
  
</nav>
    


<script src="/121-S23/js/jquery-3.4.1.min.js"></script>



  
<script src="/121-S23/fancybox/jquery.fancybox.min.js"></script>




<script src="/121-S23/js/script.js"></script>





  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</body>
</html>